<!DOCTYPE html>
<html>
    <head>
        <title>stocs</title>
    </head>
    <body>
        
        <div id="graph"></div>
        
        <script src="http://code.highcharts.com/adapters/standalone-framework.js"></script>
        <script src="http://code.highcharts.com/stock/highstock.js"></script>
        <script src="stocktracker.js"></script>
        
        <script>
            /* global StockTracker */
            /* global Util */
            /* global Highcharts */
            
            
            var stock = new StockTracker(1, 'AAPL', new Date('2016-01-01'));
            stock.getStockAmountEarned(function (total) {
                console.log('amount earned ' + total);
            });
            
            stock.getInitialStockTotal(function (total) {
                console.log('initial stock total ' + total);
            });
            
            stock.getCurrentStockTotal(function (total) {
                console.log('current stock total ' + total);
            });
            
            
            Util.getStockPriceAndTimestamp(new Date('2016-01-01'), new Date('2016-07-20'), 'AAPL', Util.TYPES().CLOSE, function(data) {
                console.log(data);
                
                
                new Highcharts.StockChart({
                    chart: {
                        renderTo: 'graph'
                    },
                    rangeSelector: {
                        selected: 1
                    },
                    title: {
                        text: 'AAPL Stock Price'
                    },
                    series: [{
                        name: 'AAPL',
                        data: data,
                        tooltip: {
                            valueDecimals: 2
                        }
                    }]
                });
            });
            
        </script>
    </body>
</html>