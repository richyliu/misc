if (self.CavalryLogger) { CavalryLogger.start_js(["Jjvgw"]); }

__d("ReactComposerListActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ADD_ITEM:null,ADD_ITEM_AT_INDEX:null,REMOVE_ITEM:null,RESET_LAST_ADDED:null,RESET_LIST:null,SET_LIST_COLOR:null,SET_LIST_CONFIG:null,SET_LIST_PROMPT:null,SET_LIST_STYLE:null,UPDATE_LIST_ITEM:null,UPDATE_LIST_TITLE:null},"ReactComposerListActionType")}),null);
__d("StoryListAttachmentStyleEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NUMERIC:"numeric",CIRCLE:"circle"})}),null);
__d("ReactComposerListStore",["ContentState","ReactComposerListActionType","ReactComposerStoreBase","StoryListAttachmentStyleEnum","EditorState","immutable"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("immutable").List;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){return{maxListItems:null,lastItemAddedIndex:-1,listItems:j([c("EditorState").createEmpty()]),listColors:null,listPrompts:null,listStyles:null,listTitle:c("EditorState").createEmpty(),selectedListColorIndex:0,selectedListPromptIndex:null,selectedListStyle:c("StoryListAttachmentStyleEnum").NUMERIC,selectedListTitleEmoji:null}},function(m){__p&&__p();switch(m.type){case c("ReactComposerListActionType").ADD_ITEM:l&&l.$ReactComposerListStore1(m);break;case c("ReactComposerListActionType").ADD_ITEM_AT_INDEX:l&&l.$ReactComposerListStore2(m);break;case c("ReactComposerListActionType").REMOVE_ITEM:l&&l.$ReactComposerListStore3(m);break;case c("ReactComposerListActionType").RESET_LAST_ADDED:l&&l.$ReactComposerListStore4(m);break;case c("ReactComposerListActionType").RESET_LIST:l&&l.$ReactComposerListStore5(m);break;case c("ReactComposerListActionType").SET_LIST_COLOR:l&&l.$ReactComposerListStore6(m);break;case c("ReactComposerListActionType").SET_LIST_CONFIG:l&&l.$ReactComposerListStore7(m);break;case c("ReactComposerListActionType").SET_LIST_PROMPT:l&&l.$ReactComposerListStore8(m);break;case c("ReactComposerListActionType").SET_LIST_STYLE:l&&l.$ReactComposerListStore9(m);break;case c("ReactComposerListActionType").UPDATE_LIST_ITEM:l&&l.$ReactComposerListStore10(m);break;case c("ReactComposerListActionType").UPDATE_LIST_TITLE:l&&l.$ReactComposerListStore11(m);break}});l=this}k.prototype.getLastItemAddedIndex=function(l){"use strict";return this.getComposerData(l).lastItemAddedIndex};k.prototype.getListItems=function(l){"use strict";return this.getComposerData(l).listItems};k.prototype.getListColors=function(l){"use strict";return this.getComposerData(l).listColors};k.prototype.getMaxListItems=function(l){"use strict";return this.getComposerData(l).maxListItems};k.prototype.getListPrompts=function(l){"use strict";return this.getComposerData(l).listPrompts};k.prototype.getListStyles=function(l){"use strict";return this.getComposerData(l).listStyles};k.prototype.getListTitle=function(l){"use strict";return this.getComposerData(l).listTitle};k.prototype.getSelectedListColor=function(l){"use strict";return this.getComposerData(l).selectedListColorIndex};k.prototype.getSelectedListPrompt=function(l){"use strict";return this.getComposerData(l).selectedListPromptIndex};k.prototype.getSelectedListStyle=function(l){"use strict";return this.getComposerData(l).selectedListStyle};k.prototype.getSelectedListTitleEmoji=function(l){"use strict";return this.getComposerData(l).selectedListTitleEmoji};k.prototype.$ReactComposerListStore1=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.listItems=n.listItems.push(c("EditorState").createEmpty());n.lastItemAddedIndex=n.listItems.size-1;this.emitChange(m)};k.prototype.$ReactComposerListStore2=function(l){"use strict";var m=this.validateAction(l,["composerID","item","index"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.listItems=q.listItems.splice(p+1,0,o);q.lastItemAddedIndex=p+1;this.emitChange(n)};k.prototype.$ReactComposerListStore4=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.lastItemAddedIndex=-1;this.emitChange(m)};k.prototype.$ReactComposerListStore3=function(l){"use strict";var m=this.validateAction(l,["composerID","itemIndex"]),n=m[0],o=m[1],p=this.getComposerData(n);p.listItems=p.listItems["delete"](o);this.emitChange(n)};k.prototype.$ReactComposerListStore5=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.listTitle=c("EditorState").createEmpty();n.selectedListPromptIndex=null;n.selectedListStyle=c("StoryListAttachmentStyleEnum").NUMERIC;n.selectedListColor=0;n.selectedListTitleEmoji=null;n.listItems=j([c("EditorState").createEmpty()]);this.emitChange(m)};k.prototype.$ReactComposerListStore7=function(l){"use strict";var m=this.validateAction(l,["composerID","config"]),n=m[0],o=m[1],p=this.getComposerData(n);p.maxListItems=o.maxListItems;p.listColors=o.listColors;p.listStyles=o.listStyles;p.listPrompts=o.listPrompts;this.emitChange(n)};k.prototype.$ReactComposerListStore6=function(l){"use strict";var m=this.validateAction(l,["composerID","value"]),n=m[0],o=m[1],p=this.getComposerData(n);p.selectedListColorIndex=o;this.emitChange(n)};k.prototype.$ReactComposerListStore8=function(l){"use strict";__p&&__p();var m=this.validateAction(l,["composerID","value"]),n=m[0],o=m[1],p=this.getComposerData(n),q=p.listColors,r=p.listPrompts,s=r[o];p.selectedListPromptIndex=o;p.selectedListColorIndex=0;if(o!==-1){for(var t=0;t<q.length;t++)if(q[t].preset_id==s.color_preset_id)p.selectedListColorIndex=t;p.listTitle=c("EditorState").createWithContent(c("ContentState").createFromText(s.title));p.selectedListTitleEmoji=s.emoji}this.emitChange(n)};k.prototype.$ReactComposerListStore9=function(l){"use strict";var m=this.validateAction(l,["composerID","value"]),n=m[0],o=m[1],p=this.getComposerData(n);p.selectedListStyle=o;this.emitChange(n)};k.prototype.$ReactComposerListStore10=function(l){"use strict";var m=this.validateAction(l,["composerID","itemIndex","newState"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.listItems=q.listItems.set(o,p);this.emitChange(n)};k.prototype.$ReactComposerListStore11=function(l){"use strict";var m=this.validateAction(l,["composerID","newState"]),n=m[0],o=m[1],p=this.getComposerData(n);p.listTitle=o;this.emitChange(n)};f.exports=new k()}),null);
__d("ReactComposerListActions",["ReactComposerListActionType","ReactComposerDispatcher","EditorState","ReactComposerListStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerListStore");var h={addItem:function i(j){var k={composerID:j,type:c("ReactComposerListActionType").ADD_ITEM};c("ReactComposerDispatcher").dispatch(k)},addItemAtIndex:function i(j,k,l){var m={composerID:j,type:c("ReactComposerListActionType").ADD_ITEM_AT_INDEX,item:k,index:l};c("ReactComposerDispatcher").dispatch(m)},removeItem:function i(j,k){var l={composerID:j,type:c("ReactComposerListActionType").REMOVE_ITEM,itemIndex:k};c("ReactComposerDispatcher").dispatch(l)},resetLastAdded:function i(j){var k={composerID:j,type:c("ReactComposerListActionType").RESET_LAST_ADDED};c("ReactComposerDispatcher").dispatch(k)},resetList:function i(j){var k={composerID:j,type:c("ReactComposerListActionType").RESET_LIST};c("ReactComposerDispatcher").dispatch(k)},setConfig:function i(j,k){var l={composerID:j,type:c("ReactComposerListActionType").SET_LIST_CONFIG,config:k};c("ReactComposerDispatcher").dispatch(l)},setListColor:function i(j,k){var l={composerID:j,type:c("ReactComposerListActionType").SET_LIST_COLOR,value:k};c("ReactComposerDispatcher").dispatch(l)},setListPrompt:function i(j,k){var l={composerID:j,type:c("ReactComposerListActionType").SET_LIST_PROMPT,value:k};c("ReactComposerDispatcher").dispatch(l)},setListStyle:function i(j,k){var l={composerID:j,type:c("ReactComposerListActionType").SET_LIST_STYLE,value:k};c("ReactComposerDispatcher").dispatch(l)},updateListItem:function i(j,k,l){var m={composerID:j,type:c("ReactComposerListActionType").UPDATE_LIST_ITEM,itemIndex:k,newState:l};c("ReactComposerDispatcher").dispatch(m)},updateListTitle:function i(j,k){var l={composerID:j,type:c("ReactComposerListActionType").UPDATE_LIST_TITLE,newState:k};c("ReactComposerDispatcher").dispatch(l)}};f.exports=h}),null);
__d("ReactComposerListSproutContainer.react",["ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerDisabledSproutItem.react","ReactComposerContextTypes","ReactComposerListActions","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ExtensibleSproutsItemType","React","ShimButton.react","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$ReactComposerListSproutContainer1=function(event){if(this.state.isSelected){c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").STATUS,true);c("ReactComposerListActions").resetList(this.context.composerID)}else c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").LIST,true,c("ExtensibleSproutsItemType").LIST,c("ReactComposerStore").getSproutSurface(this.context.composerID))}.bind(this),l}j.getStores=function(){return[c("ReactComposerAttachmentStore"),c("ReactComposerTaggerStore")]};j.calculateState=function(k,l,m){var n=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m.composerID),o=n===c("ReactComposerAttachmentType").LIST;return{isSelected:o,isDisabled:c("ReactComposerTaggerStore").isDisabled(m.composerID,c("ReactComposerTaggerType").LIST)}};j.prototype.render=function(){if(this.state.isDisabled)return c("React").createElement(c("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig});return c("React").createElement(c("ShimButton.react"),{onClick:this.$ReactComposerListSproutContainer1},c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.isSelected}))};j.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").LIST]};j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerMediaSproutContainer.react",["ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerMediaSprout.react","ReactComposerMediaUploadStore","ReactComposerContextTypes","FluxContainer","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("ReactComposerAttachmentStore"),c("ReactComposerMediaUploadStore")]};j.calculateState=function(k,l,m){var n=c("ReactComposerAttachmentStore").getIsAttachmentSelected(m.composerID,c("ReactComposerAttachmentType").MEDIA),o=c("ReactComposerMediaUploadStore").getUploadsCount(m.composerID);return{highlighted:!!o&&n}};j.prototype.render=function(){return c("React").createElement(c("ReactComposerMediaSprout.react"),babelHelpers["extends"]({config:this.props.config},this.props,this.state))};function j(){h.apply(this,arguments)}j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);