if (self.CavalryLogger) { CavalryLogger.start_js(["6KyuN"]); }

__d("UFISearchInput.react",["ix","cx","fbt","AbstractButton.react","AbstractTextInput.react","FlexLayout.react","Image.react","React","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;n.prototype.componentDidMount=function(){this.focusInput()};n.prototype.render=function(){return c("React").createElement(c("FlexLayout.react"),{className:"_2pgc",align:"center",direction:"horizontal"},c("React").createElement(c("Image.react"),{className:"_2pgd",src:h("363738")}),c("React").createElement(c("AbstractTextInput.react"),{onChange:this.props.onChange,onClick:this.props.onClick,placeholder:this.props.placeholder,ref:"inputField",value:this.props.value}),c("React").createElement(c("AbstractButton.react"),{labelIsHidden:true,onClick:this.props.onClear,label:j._("Clear search"),className:(this.props.value.length===0?"hidden_elem":"")+" _2pge",image:c("React").createElement(c("Image.react"),{src:h("393092")})}))};n.prototype.focusInput=function(){this.refs.inputField.focusInput()};function n(){k.apply(this,arguments)}n.propTypes={onChange:m.func,onClear:m.func,onClick:m.func,placeholder:m.node,value:m.string.isRequired};f.exports=n}),null);
__d("MessagesEmoticons.react",["cx","fbt","Grid.react","React","ShimButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes,n=8,o={smile:i._("smile"),frown:i._("frown"),tongue:i._("tongue"),grin:i._("grin"),gasp:i._("gasp"),wink:i._("wink"),pacman:i._("pacman"),grumpy:i._("grumpy"),unsure:i._("unsure"),cry:i._("cry"),kiki:i._("kiki"),glasses:i._("glasses"),sunglasses:i._("sunglasses"),heart:i._("heart"),devil:i._("devil"),angel:i._("angel"),squint:i._("squint"),confused:i._("confused"),upset:i._("upset"),colonthree:i._("colonthree"),like:i._("like")};j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.getEmoticons=function(){"use strict";return Object.keys(o).map(function(q){return c("React").createElement(l,{key:q},c("React").createElement("div",{className:"panelCell"},c("React").createElement(c("ShimButton.react"),{"aria-label":o[q],className:"emoticon emoticon_"+q,form:"link",onClick:function(){return this.props.onEmoticonSelect(q)}.bind(this)})))}.bind(this))};p.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"emoticonsTable"},c("React").createElement(c("Grid.react"),{cols:n,alignv:"middle",alignh:"center",spacing:"pam"},this.getEmoticons()))};function p(){"use strict";j.apply(this,arguments)}p.propTypes={onEmoticonSelect:m.func};p.defaultProps={onEmoticonSelect:c("emptyFunction")};f.exports=p}),null);
__d("ReactAlbumPermalinkComposer.react",["cx","LitestandComposer","React","ReactComposerAttachmentType","ReactComposerAudienceActions","ReactComposerBodyContainer.react","ReactComposerContextProviderMixin","ReactComposerEvents","ReactComposerFeedMediaPostButtonContainer.react","ReactComposerFeedPostButtonContainer.react","ReactComposerFocusInit","ReactComposerLoggingName","ReactComposerMediaEagerAttachment.react","ReactComposerStatusEagerAttachment.react","ReactComposerWithSprouts.react","ReactComposerSproutsStatusAndMediaSelector.react","Arbiter","$","idx"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.getChildContext=function(){"use strict";return c("ReactComposerContextProviderMixin").staticGetChildContext(this.props)};k.prototype.componentDidMount=function(){var l;"use strict";var m=this.props,n=m.collectionsID,o=m.contextConfig;c("LitestandComposer").initComposer(o.composerID);c("ReactComposerFocusInit").handler(c("$")("album_react_composer_container"),o.composerID,o.actorID,o.gks,(l=o)!=null?(l=l.jsModules)!=null?l.composerFocus:l:l,true);c("ReactComposerAudienceActions").setCollectionIDWithoutLogging(o.composerID,n.toString());if(this.props.focus)c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+o.composerID)};k.prototype.render=function(){"use strict";var l=c("React").createElement(c("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:c("ReactComposerAttachmentType").STATUS,innerProps:{className:"_292i",loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig},expandOnInit:false},this.$ReactAlbumPermalinkComposer1(),c("React").createElement(c("ReactComposerBodyContainer.react"),{expanded:this.props.config.showExpandedComposer},this.$ReactAlbumPermalinkComposer2(),this.$ReactAlbumPermalinkComposer3()));return l};k.prototype.$ReactAlbumPermalinkComposer1=function(){"use strict";var l=this.props.config.attachmentsConfig,m=[];if(l[c("ReactComposerAttachmentType").STATUS].enabled)m.push(c("React").createElement(c("ReactComposerSproutsStatusAndMediaSelector.react"),{key:c("ReactComposerLoggingName").STATUS_TAB_SELECTOR,label:l[c("ReactComposerAttachmentType").STATUS].defaultTabTitle,statusOnly:false}));return c("React").createElement("div",{className:"_3ubp _sg2"},m)};k.prototype.$ReactAlbumPermalinkComposer2=function(){"use strict";if(!this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].enabled)return null;var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].placeholderText;return c("React").createElement(c("ReactComposerStatusEagerAttachment.react"),{key:"status",config:this.props.config,selected:true,postButtonModule:c("ReactComposerFeedPostButtonContainer.react"),placeholder:l})};k.prototype.$ReactAlbumPermalinkComposer3=function(){"use strict";if(!this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA].enabled)return null;return c("React").createElement(c("ReactComposerMediaEagerAttachment.react"),{key:"media",config:this.props.config,postButtonModule:c("ReactComposerFeedMediaPostButtonContainer.react"),selected:false})};function k(){"use strict";i.apply(this,arguments)}k.childContextTypes=c("ReactComposerContextProviderMixin").childContextTypes;f.exports=k}),null);
__d("ReactComposerTaggerToggleController.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerTaggerActions"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerTaggerToggleController",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{taggerID:h.string.isRequired,loggingName:h.oneOf(Object.values(c("ReactComposerLoggingName"))).isRequired,onSelect:h.func},render:function j(){return c("React").createElement("span",{onClick:this.props.onSelect||this._onSelect,role:"presentation"},this.props.children)},_onSelect:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.loggingName,this.props.taggerID,false)}});f.exports=i}),null);
__d("AddCommentFlyoutSizeType",[],(function a(b,c,d,e,f,g){var h={LARGE:"large",SMALL:"small"};f.exports=h}),null);
__d("StickersFlyoutPackSelector.react",["cx","fbt","ix","Animation","Image.react","Link.react","Locale","React","ReactDOM","RelayClassic_DEPRECATED","RelayAPIConfig","react-relay/classic/mutation/RelayMutation","RelayCompat","react-relay/classic/query/RelayQL","react-relay/classic/store/RelayStore","StickersConfig","StickersActions","StickersStoreController","StickerConstants","StickerInterfaces","XUIBadge.react","asset","emptyFunction","getObjectValues","getViewerRecordID"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m,n,o=c("RelayCompat").MutationTypes,p=c("React").PropTypes,q=4,r=200,s=i._("Sticker Store"),t=function t(x,y){if(x.id==c("StickerConstants").SEARCH_PACK_ID)return y?j("404874"):j("415283");if(x.id==c("StickerConstants").MRU_STICKER_PACK)return y?j("430464"):j("430471");if(x.id==c("StickerConstants").EMOTICON_PACK_ID)return j("87143");if(x.id==c("StickerConstants").OZ_PACK_ID)return x.icon;return x.thumbnail_image?x.thumbnail_image.uri:null},u=function u(x){var y=x.pack,z=c("StickersConfig").search_pack?x.index===1||x.index===2:x.index===1,A="_5r8a"+(x.selected?" _5r8b":"")+(y.id==c("StickerConstants").MRU_STICKER_PACK?" _5qcj":"")+(y.id==c("StickerConstants").SEARCH_PACK_ID?" _5qck":"")+(z?" _eb3":""),B=x.isComments&&!y.is_comments_capable&&y.id!==c("StickerConstants").MRU_STICKER_PACK&&y.id!==c("StickerConstants").SEARCH_PACK_ID&&y.id!==c("StickerConstants").EMOTICON_PACK_ID,C=i._("This pack is only available in photos"),D=i._("This pack is only available in messages"),E=B?c("emptyFunction"):function(){return x.onClick(y.id)},F=t(y,x.selected);if(F===null)return null;var G=!y.is_messenger_capable&&y.is_composer_capable?C:D;return c("React").createElement(c("Link.react"),{"aria-label":B?G:y.name,className:A,"data-hover":"tooltip","data-id":y.id,"data-tooltip-content":B?G:y.name,onClick:E,role:"button",tabIndex:"0"},c("React").createElement(c("Image.react"),{className:(B?"_2ji6":"")+" _5r8c"+(c("StickersConfig").search_pack?" _1viy":""),src:F}))};u.propTypes={index:p.number,isComments:p.bool,onClick:p.func,pack:p.object.isRequired,selected:p.bool};u.defaultProps={isComments:false,onClick:c("emptyFunction")};k=babelHelpers.inherits(v,c("React").Component);l=k&&k.prototype;function v(){var x,y;for(var z=arguments.length,A=Array(z),B=0;B<z;B++)A[B]=arguments[B];return y=(x=l.constructor).call.apply(x,[this].concat(A)),this.state={animating:false,page:0},this.$StickersFlyoutPackSelector10=function(){this.$StickersFlyoutPackSelector8()&&this.$StickersFlyoutPackSelector4(this.state.page-1,r)}.bind(this),this.$StickersFlyoutPackSelector11=function(){this.$StickersFlyoutPackSelector9()&&this.$StickersFlyoutPackSelector4(this.state.page+1,r)}.bind(this),this.$StickersFlyoutPackSelector12=function(){c("StickersStoreController").showStore(null,this.props.stickerInterface==c("StickerInterfaces").COMPOSER);c("react-relay/classic/store/RelayStore").commitUpdate(new w({actor_id:c("RelayAPIConfig").actorID}),{onSuccess:c("emptyFunction"),onFailure:c("emptyFunction")})}.bind(this),y}v.prototype.componentDidMount=function(){if(this.props.selectedPackID)return;this.$StickersFlyoutPackSelector1()};v.prototype.shouldComponentUpdate=function(x,y){return!y.animating};v.prototype.componentWillReceiveProps=function(x){if(x.selectedPackID)return;this.$StickersFlyoutPackSelector1()};v.prototype.onFlyoutShown=function(){if(this.$StickersFlyoutPackSelector2().length>0){var x=this.$StickersFlyoutPackSelector3(this.props.selectedPackID);if(this.state.page!==x)this.$StickersFlyoutPackSelector4(x,0)}};v.prototype.$StickersFlyoutPackSelector1=function(){var x=this.$StickersFlyoutPackSelector2();if(x.length>0)this.$StickersFlyoutPackSelector5(x[0].id);else c("StickersActions").trayLoaded()};v.prototype.$StickersFlyoutPackSelector2=function(){var x=this.props.packs.sticker_store.tray_packs.edges.map(function(y){return y.node});if(c("StickersConfig").oz_pack)x.unshift(c("StickersConfig").oz_pack);if(c("StickersConfig").mru_stickers_count!==0)x.unshift(c("StickersConfig").mru_pack);if(c("StickersConfig").search_pack)x.unshift(c("StickersConfig").search_pack);return x};v.prototype.$StickersFlyoutPackSelector3=function(x){var y=this.$StickersFlyoutPackSelector2();for(var z=0;z<y.length;z++)if(y[z].id==x)return z<=q?0:Math.floor((z-1)/q);return 0};v.prototype.$StickersFlyoutPackSelector4=function(x,y){if(this.state.animating)return;this.setState({animating:true,page:x},function(){var z=c("ReactDOM").findDOMNode(this.refs.positioner),A=this.$StickersFlyoutPackSelector6(x);new(c("Animation"))(z).to(A.reference,A.offset+"px").ondone(function(){return this.setState({animating:false})}.bind(this)).duration(y).go()})};v.prototype.$StickersFlyoutPackSelector6=function(x){var y=c("ReactDOM").findDOMNode(this.refs.positioner),z=y.childNodes[x].offsetLeft;if(c("Locale").isRTL()){var A=y.offsetWidth,B=y.childNodes[x].offsetWidth;return{reference:"right",offset:z+B-A}}return{reference:"left",offset:-z}};v.prototype.$StickersFlyoutPackSelector7=function(){return Math.max(1,Math.ceil((this.$StickersFlyoutPackSelector2().length-1)/q))};v.prototype.$StickersFlyoutPackSelector8=function(){return this.state.page>0};v.prototype.$StickersFlyoutPackSelector9=function(){return this.state.page+1<this.$StickersFlyoutPackSelector7()};v.prototype.render=function(){return c("React").createElement("div",{className:"_5r85"},this.$StickersFlyoutPackSelector13(),this.$StickersFlyoutPackSelector14(),this.$StickersFlyoutPackSelector15(),c("React").createElement("div",{className:"_5r88"},c("React").createElement("div",{className:"_5r89",ref:"positioner"},this.$StickersFlyoutPackSelector16())))};v.prototype.$StickersFlyoutPackSelector5=function(x){c("StickersActions").selectTrayPack(x)};v.prototype.$StickersFlyoutPackSelector16=function(){var x=this.$StickersFlyoutPackSelector2().map(function(B,C){return c("React").createElement(u,{key:B.id,onClick:function(){return this.$StickersFlyoutPackSelector5(B.id)}.bind(this),pack:B,selected:this.props.selectedPackID===B.id,index:C,isComments:this.props.stickerInterface==c("StickerInterfaces").COMMENTS})}.bind(this)),y=[];for(var z=0;z<x.length;z+=q){var A=z;z===0&&z++;y.push(c("React").createElement("div",{className:"_5r81",key:z},x.slice(A,z+q)))}return y};v.prototype.$StickersFlyoutPackSelector13=function(){return c("React").createElement("a",{"aria-label":s,className:"_5r86 rfloat","data-hover":"tooltip",href:"#",onClick:this.$StickersFlyoutPackSelector12,role:"button",tabIndex:"0"},c("React").createElement(c("Image.react"),{className:"_5r87",src:j("392514")}),this.$StickersFlyoutPackSelector17())};v.prototype.$StickersFlyoutPackSelector17=function(){if(!this.props.packs.num_new_sticker_packs)return null;return c("React").createElement(c("XUIBadge.react"),{className:"rfloat _3fhs",count:this.props.packs.num_new_sticker_packs,maxcount:9,type:"special"})};v.prototype.$StickersFlyoutPackSelector14=function(){if(!this.$StickersFlyoutPackSelector8())return null;var x=c("Locale").isRTL()?j("384087"):j("409864");return c("React").createElement(c("Link.react"),{className:"_37wu lfloat",onClick:this.$StickersFlyoutPackSelector10,role:"button",tabIndex:"0"},c("React").createElement(c("Image.react"),{className:"_5r84",src:x}))};v.prototype.$StickersFlyoutPackSelector15=function(){if(!this.$StickersFlyoutPackSelector9())return null;var x=c("Locale").isRTL()?j("409864"):j("384087");return c("React").createElement(c("Link.react"),{className:"_37wv rfloat",onClick:this.$StickersFlyoutPackSelector11,role:"button",tabIndex:"0"},c("React").createElement(c("Image.react"),{className:"_5r84",src:x}))};v.propTypes={stickerInterface:p.oneOf(c("getObjectValues")(c("StickerInterfaces"))),selectedPackID:p.string};v.defaultProps={stickerInterface:c("StickerInterfaces").MESSAGES};f.exports=c("RelayClassic_DEPRECATED").createContainer(v,{initialVariables:{stickerInterface:c("StickerInterfaces").MESSAGES},fragments:{packs:function x(y){return function(){return{children:[{fieldName:"num_new_sticker_packs",kind:"Field",metadata:{},type:"Int"},{children:[{calls:[{kind:"Call",metadata:{type:"StickerInterfaces"},name:"interface",value:{kind:"CallVariable",callVariableName:"stickerInterface"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1e4}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"is_comments_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_messenger_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_composer_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallValue",callValue:20}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallValue",callValue:20}}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"thumbnail_image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"StickerPack"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"PacksInTrayEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"tray_packs",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true},type:"PacksInTrayConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:true},type:"StickerStore"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutPackSelector_react_PacksRelayQL",type:"Viewer"}}()}}});m=babelHelpers.inherits(w,c("react-relay/classic/mutation/RelayMutation"));n=m&&m.prototype;w.prototype.getMutation=function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"set_sticker_store_opened",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"client_mutation_id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],kind:"Mutation",metadata:{inputType:"SetStickerStoreOpenedData!"},name:"StickersFlyoutPackSelector_react",responseType:"SetStickerStoreOpenedResponsePayload"}}()};w.prototype.getVariables=function(){return{actor_id:this.props.actor_id}};w.prototype.getFatQuery=function(){return function(){return{children:[{children:[{fieldName:"num_new_sticker_packs",kind:"Field",metadata:{},type:"Int"}],fieldName:"viewer",kind:"Field",metadata:{canHaveSubselections:true},type:"Viewer"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutPackSelector_reactRelayQL",type:"SetStickerStoreOpenedResponsePayload"}}()};w.prototype.getOptimisticResponse=function(){return{viewer:{num_new_sticker_packs:0}}};w.prototype.getConfigs=function(){var x=c("getViewerRecordID")();return[{type:o.FIELDS_CHANGE,fieldIDs:x?{viewer:x}:{}}]};function w(){m.apply(this,arguments)}}),null);
__d("StickersFlyoutPackSelectorRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="StickersFlyoutPackSelectorRoute";j.paramDefinitions={stickerInterface:{required:true,type:"String"}};j.queries={packs:function k(l,m){return function(n){return{children:[].concat.apply([],[c("react-relay/classic/query/RelayQL").__frag(n)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersFlyoutPackSelectorRoute",type:"Viewer"}}(l.getFragment("packs",{stickerInterface:m.stickerInterface}))}};f.exports=j}),null);
__d("StickersFlyoutStickerSelector.react",["cx","fbt","ix","AddCommentFlyoutSizeType","Grid.react","Image.react","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","ScrollableArea.react","Sticker.react","StickerConstants","StickerInterfaces","StickersActions","StickersConfig","StickersStateStore","StickerUtils","getObjectValues","throttle"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Grid.react").GridItem,n=c("React").PropTypes,o=320,p=255,q=278,r=308,s=36,t=112,u=Math.ceil(c("StickerConstants").TRAY_SIZE*(window.devicePixelRatio||1));k=babelHelpers.inherits(v,c("React").Component);l=k&&k.prototype;function v(){__p&&__p();var x,y;for(var z=arguments.length,A=Array(z),B=0;B<z;B++)A[B]=arguments[B];return y=(x=l.constructor).call.apply(x,[this].concat(A)),this.$StickersFlyoutStickerSelector1=function(){__p&&__p();if(this.props.stickers_for_pack||this.props.stickers_for_mru_pack){var C=this.props.stickers_for_pack?this.props.stickers_for_pack.stickers.edges:this.props.stickers_for_mru_pack.recently_used_stickers.edges;if(this.props.stickers_for_mru_pack){var D=c("StickersStateStore").getState();if(!D.get("recentStickersLoaded"))c("StickersActions").loadRecentStickers(this.props.stickers_for_mru_pack.recently_used_stickers.edges.map(function(E){return E.node}));else return this.props.recentStickers.filter(function(E){return this.$StickersFlyoutStickerSelector5(E)}.bind(this))}return C.filter(function(E){return this.$StickersFlyoutStickerSelector5(E.node)}.bind(this))}else if(this.props.stickers_for_search)return this.props.stickers_for_search.sticker_results.edges;else return null}.bind(this),this.$StickersFlyoutStickerSelector5=function(C){var D=this.props.stickerInterface,E=C.pack;if(D===c("StickerInterfaces").COMPOSER)return E.is_composer_capable;else if(D===c("StickerInterfaces").COMMENTS)return E.is_comments_capable;else if(D===c("StickerInterfaces").MESSAGES)return E.is_messenger_capable;else return true}.bind(this),this.$StickersFlyoutStickerSelector2=function(){var C=(o-s*2-t)/2;return c("React").createElement("div",{className:"_5jdt",style:{marginTop:C+"px"}},c("React").createElement(c("Image.react"),{src:j("87146")}),c("React").createElement("p",null,i._("No Stickers to Show")))},this.$StickersFlyoutStickerSelector3=function(){var C=this.refs.stickerScrollable;if(C){var D=C.getArea().getScrollTop();this.props.onScroll&&this.props.onScroll(D)}}.bind(this),y}v.prototype.render=function(){var x=this.$StickersFlyoutStickerSelector1();if(!x||x.length===0)return this.$StickersFlyoutStickerSelector2();var y=this.props.size==="small"?o:p,z=this.props.size==="small"?q:r;return c("React").createElement(c("ScrollableArea.react"),{ref:"stickerScrollable",height:this.props.height||y,onScroll:c("throttle")(this.$StickersFlyoutStickerSelector3,200),width:z,fade:true},c("React").createElement("div",{className:"_5r8k"},c("React").createElement(c("Grid.react"),{cols:4,fixed:true},this.$StickersFlyoutStickerSelector4(x))))};v.prototype.$StickersFlyoutStickerSelector4=function(x){return x.map(function(y){var z=y.node||y,A=z.sprite_image?z.sprite_image.uri:null,B=z.padded_sprite_image?z.padded_sprite_image.uri:null,C=c("StickerUtils").getScaledDimensions(z.image.height,z.image.width,c("StickerConstants").TRAY_SIZE);return c("React").createElement(m,{key:z.id},c("React").createElement("div",{className:"_5r8h",onClick:function(event){return this.props.onStickerClick(z,event)}.bind(this),onKeyDown:function(event){return this.props.onStickerKeyDown(z,event)}.bind(this),role:"presentation"},c("React").createElement(c("Sticker.react"),{accessibilityLabel:z.label,animationTrigger:"hover",className:"_5r8i",forceCursorPointer:true,frameCount:z.frame_count,frameRate:z.frame_rate||83,framesPerCol:z.frames_per_column,framesPerRow:z.frames_per_row,sourceHeight:C.height,sourceURI:z.image.uri,sourceWidth:C.width,spriteURI:A,packName:z.pack.name,paddedSpriteURI:B,stickerID:z.id})))}.bind(this))};v.propTypes={height:n.number,onScroll:n.func,onStickerClick:n.func.isRequired,onStickerKeyDown:n.func.isRequired,recentStickers:n.array.isRequired,stickerInterface:n.oneOf(c("getObjectValues")(c("StickerInterfaces"))),size:n.oneOf(Object.values(c("AddCommentFlyoutSizeType")))};v.defaultProps={stickerInterface:c("StickerInterfaces").MESSAGES,size:c("AddCommentFlyoutSizeType").SMALL};var w=function(x,y,z,A,B,C){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"label",kind:"Field",metadata:{},type:"String"},{fieldName:"frame_count",kind:"Field",metadata:{},type:"Int"},{fieldName:"frame_rate",kind:"Field",metadata:{},type:"Int"},{fieldName:"frames_per_column",kind:"Field",metadata:{},type:"Int"},{fieldName:"frames_per_row",kind:"Field",metadata:{},type:"Int"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:c("react-relay/classic/query/RelayQL").__var(x)},{kind:"Call",metadata:{type:"Int"},name:"height",value:c("react-relay/classic/query/RelayQL").__var(y)}],children:[{fieldName:"height",kind:"Field",metadata:{},type:"Int"},{fieldName:"width",kind:"Field",metadata:{},type:"Int"},{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:c("react-relay/classic/query/RelayQL").__var(z)},{kind:"Call",metadata:{type:"Int"},name:"height",value:c("react-relay/classic/query/RelayQL").__var(A)}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"sprite_image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:c("react-relay/classic/query/RelayQL").__var(B)},{kind:"Call",metadata:{type:"Int"},name:"height",value:c("react-relay/classic/query/RelayQL").__var(C)}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"padded_sprite_image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"is_comments_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_composer_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_messenger_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"pack",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"StickerPack"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_reactRelayQL",type:"Sticker"}}(u,u,u,u,u,u);f.exports=c("RelayClassic_DEPRECATED").createContainer(v,{initialVariables:{stickerInterface:c("StickerInterfaces").MESSAGES},fragments:{stickers_for_pack:function x(){return function(y){return{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1e3}}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},c("react-relay/classic/query/RelayQL").__frag(y)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"StickersInPackEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"stickers",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:"StickersInPackConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_react_Stickers_for_packRelayQL",type:"StickerPack"}}(w)},stickers_for_search:function x(y){var z=y.stickerInterface;return function(A){return{children:[{calls:[{kind:"Call",metadata:{type:"StickerInterfaces"},name:"interface",value:{kind:"CallVariable",callVariableName:"stickerInterface"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:40}}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},c("react-relay/classic/query/RelayQL").__frag(A)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"StickerSearchResultsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"sticker_results",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true},type:"StickerSearchResultsConnection"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_react_Stickers_for_searchRelayQL",type:"StickerSearchQuery"}}(w)},stickers_for_mru_pack:function x(){return function(y,z){return{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:c("react-relay/classic/query/RelayQL").__var(y)}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},c("react-relay/classic/query/RelayQL").__frag(z)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"RecentlyUsedStickersEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"recently_used_stickers",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:"RecentlyUsedStickersConnection"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_react_Stickers_for_mru_packRelayQL",type:"Viewer"}}(c("StickersConfig").max_mru_stickers,w)}}})}),null);
__d("StickersFlyoutStickersForMRUPackRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="StickersFlyoutStickersForMRUPackRoute";j.queries={stickers_for_mru_pack:function k(l){return function(m){return{children:[].concat.apply([],[c("react-relay/classic/query/RelayQL").__frag(m)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersFlyoutStickersForMRUPackRoute",type:"Viewer"}}(l.getFragment("stickers_for_mru_pack"))}};f.exports=j}),null);
__d("StickersFlyoutStickersForPackRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="StickersFlyoutStickersForPackRoute";j.paramDefinitions={id:{required:true,type:"String"}};j.queries={stickers_for_pack:function k(l){return function(m){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"id"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},c("react-relay/classic/query/RelayQL").__frag(m)]),fieldName:"node",kind:"Query",metadata:{isAbstract:true,identifyingArgName:"id",identifyingArgType:"ID!"},name:"StickersFlyoutStickersForPackRoute",type:"Node"}}(l.getFragment("stickers_for_pack"))}};f.exports=j}),null);
__d("StickersFlyoutStickersForSearchRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="StickersFlyoutStickersForSearchRoute";j.paramDefinitions={query:{required:true,type:"String"},stickerInterface:{required:true,type:"String"}};j.queries={stickers_for_search:function k(l,m){var n=m.stickerInterface;return function(o){return{calls:[{kind:"Call",metadata:{type:"String!"},name:"query",value:{kind:"CallVariable",callVariableName:"query"}}],children:[].concat.apply([],[c("react-relay/classic/query/RelayQL").__frag(o)]),fieldName:"sticker_search",kind:"Query",metadata:{identifyingArgName:"query",identifyingArgType:"String!"},name:"StickersFlyoutStickersForSearchRoute",type:"StickerSearchQuery"}}(l.getFragment("stickers_for_search",{stickerInterface:n}))}};f.exports=j}),null);
__d("StickersFlyoutTags.react",["cx","Grid.react","Image.react","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","ScrollableArea.react","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("Grid.react").GridItem,j=function j(k){var l=k.tags.sticker_store.sticker_tags.edges.filter(function(m){return m.node.thumbnail_image.uri!==null}).sort(function(m,n){return m.node.order-n.node.order}).map(function(m,n){return c("React").createElement(i,{key:n,className:"_3iqe"},c("React").createElement("div",{className:"_t5c"+(n<2?" _1b27":"")+(n%2===0?" _t5d":"")+(n%2!==0?" _t5e":"")},c("React").createElement(c("XUIButton.react"),{image:c("React").createElement(c("Image.react"),{src:m.node.thumbnail_image.uri}),label:m.node.name,onClick:function o(){return k.onTagSelect(m.node)},className:"_5jdu",style:{background:"#"+m.node.color_code},disabled:k.inputDisabled})))});return c("React").createElement(c("ScrollableArea.react"),{height:k.height,width:k.width,shadow:true,fade:true,className:"_5jei"},c("React").createElement(c("Grid.react"),{spacing:"pas",cols:2,fixed:true},l))};f.exports=c("RelayClassic_DEPRECATED").createContainer(j,{fragments:{tags:function k(){return function(){return{children:[{children:[{calls:[{kind:"Call",metadata:{type:"StickerTagType"},name:"sticker_tag_type",value:{kind:"CallValue",callValue:"FEATURED"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:20}}],children:[{children:[{children:[{fieldName:"order",kind:"Field",metadata:{},type:"Int"},{fieldName:"color_code",kind:"Field",metadata:{},type:"String"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"thumbnail_image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"StickerTag"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"AllStickerTagsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"sticker_tags",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true},type:"AllStickerTagsConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:true},type:"StickerStore"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutTags_react_TagsRelayQL",type:"Viewer"}}()}}})}),null);
__d("StickersFlyoutTagsRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="StickersFlyoutTagsRoute";j.queries={tags:function k(l){return function(m){return{children:[].concat.apply([],[c("react-relay/classic/query/RelayQL").__frag(m)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersFlyoutTagsRoute",type:"Viewer"}}(l.getFragment("tags"))}};f.exports=j}),null);
__d("StickersFlyoutTagSelector.react",["cx","fbt","AddCommentFlyoutSizeType","Banzai","React","react-relay/classic/container/RelayRootContainer","StickersFlyoutStickerSelector.react","StickersFlyoutStickersForSearchRoute","StickersFlyoutTags.react","StickersFlyoutTagsRoute","StickerInterfaces","StickersTypedLogger","StickerUtils","UFISearchInput.react","XUISpinner.react","debounce","getObjectValues"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=320,l=257,m=278,n=324,o=46,p=38,q=c("debounce")(function(s){if(!s||s.length<2)return;new(c("StickersTypedLogger"))().setEvent("search_sticker").setSearchtoken(s).log()},1e3),r=c("React").createClass({displayName:"StickersFlyoutTagSelector",propTypes:{onStickerClick:j.func.isRequired,onStickerKeyDown:j.func.isRequired,stickerInterface:j.oneOf(c("getObjectValues")(c("StickerInterfaces"))),shown:j.bool,size:j.oneOf(Object.values(c("AddCommentFlyoutSizeType")))},getInitialState:function s(){return{input:"",isScrolling:false,tagChosen:false}},getDefaultProps:function s(){return{stickerInterface:c("StickerInterfaces").MESSAGES,size:c("AddCommentFlyoutSizeType").SMALL}},componentDidMount:function s(){this._focusInput()},componentWillReceiveProps:function s(t){if(t.shown&&!this.props.shown)this.setState(this.getInitialState(),this._focusInput)},shouldComponentUpdate:function s(t){return t.shown},render:function s(){return c("React").createElement("div",{className:"_217a"+(this.state.isScrolling?" _1hg1":"")},c("React").createElement(c("UFISearchInput.react"),{onClick:function t(u){return u&&u.stopPropagation()},onChange:this._inputChanged,onClear:this._handleResetButtonClick,placeholder:i._("Search stickers"),ref:"inputField",value:this.state.input||""}),this._renderContentArea())},_renderContentArea:function s(){__p&&__p();var t=this.props.size==="small"?k-o:l-p,u=this.props.size==="small"?m:n,v=this._normalizeInput(this.state.input),w=c("React").createElement("div",{className:"_e0r"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));if(this.state.tagChosen||v.length>1){q(v);return c("React").createElement(c("react-relay/classic/container/RelayRootContainer"),{Component:c("StickersFlyoutStickerSelector.react"),route:new(c("StickersFlyoutStickersForSearchRoute"))({query:v,stickerInterface:this.props.stickerInterface}),renderLoading:function x(){return w},renderFetched:function(x){return c("React").createElement(c("StickersFlyoutStickerSelector.react"),babelHelpers["extends"]({},x,{ref:"selector",height:t,onScroll:this._onScroll,onStickerClick:this._onStickerClick,onStickerKeyDown:this.props.onStickerKeyDown,recentStickers:[],stickerInterface:this.props.stickerInterface,size:this.props.size}))}.bind(this)})}else return c("React").createElement(c("react-relay/classic/container/RelayRootContainer"),{Component:c("StickersFlyoutTags.react"),route:new(c("StickersFlyoutTagsRoute"))(),renderLoading:function x(){return w},renderFetched:function(x){return c("React").createElement(c("StickersFlyoutTags.react"),babelHelpers["extends"]({},x,{height:t-o,inputDisabled:v.length===1,onTagSelect:this._selectTag,width:u-16}))}.bind(this)})},_onScroll:function s(t){this.setState({isScrolling:!!t})},_selectTag:function s(t){new(c("StickersTypedLogger"))().setEvent("select_tag").setTagid(t.id).log();this.setState({tagChosen:true,input:c("StickerUtils").capitalizeWords(t.name)});this._focusInput()},_normalizeInput:function s(t){return t.trim().replace(/\s+/," ").toLowerCase()},_handleResetButtonClick:function s(t){t.preventDefault();this.setState(this.getInitialState())},_inputChanged:function s(t){this.setState({input:t.target.value,tagChosen:false,isScrolling:false})},_focusInput:function s(){this.refs.inputField.focusInput&&this.refs.inputField.focusInput()},_onStickerClick:function s(t,event){this.props.onStickerClick(t,event);try{if(c("Banzai").isEnabled("sticker_search_ranking")){var u={query:this._normalizeInput(this.state.input),sticker_id:t.id};c("Banzai").post("sticker_search_click",u,c("Banzai").VITAL)}}catch(v){}}});f.exports=r}),null);
__d("StickersFlyout.react",["cx","fbt","AddCommentFlyoutSizeType","Keys","MessagesEmoticons.react","ReactComponentWithPureRenderMixin","PureStoreBasedStateMixin","React","react-relay/classic/container/RelayRootContainer","StickerConstants","StickersActions","StickersConfig","StickersFlyoutPackSelector.react","StickersFlyoutPackSelectorRoute","StickersFlyoutStickerSelector.react","StickersFlyoutStickersForPackRoute","StickersFlyoutStickersForMRUPackRoute","StickersFlyoutTagSelector.react","StickerInterfaces","StickersStateStore","StickersDispatcher","StickersTypedLogger","XUISpinner.react","idx","getObjectValues","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("StickerConstants").SEARCH_PACK_ID,l=["Enter"," "],m=c("React").createClass({displayName:"StickersFlyout",mixins:[c("ReactComponentWithPureRenderMixin"),c("PureStoreBasedStateMixin")(c("StickersStateStore"))],statics:{calculateState:function n(){var o=c("StickersStateStore").getState();return{packID:o.get("trayPackID"),trayLoaded:o.get("trayLoaded")}}},propTypes:{stickerInterface:j.oneOf(c("getObjectValues")(c("StickerInterfaces"))),onStickerSelect:j.func.isRequired,onEmoticonSelect:j.func,onShown:j.func,onHidden:j.func,onEscKeyDown:j.func,shown:j.bool,size:j.oneOf(Object.values(c("AddCommentFlyoutSizeType")))},getDefaultProps:function n(){return{stickerInterface:c("StickerInterfaces").MESSAGES,shown:false,size:c("AddCommentFlyoutSizeType").SMALL}},componentWillMount:function n(){c("StickersDispatcher").explicitlyRegisterStores([c("StickersStateStore")])},componentDidMount:function n(){if(this.props.shown)this._onShown()},componentWillReceiveProps:function n(o){if(o.shown)this._onShownWrapper();else this._onHidden()},componentDidUpdate:function n(o){if(!o.shown&&this.props.shown)this._onShown();else if(o.shown&&!this.props.shown)this._onHidden()},_onShownWrapper:function n(){if(this.props.onShown)this.props.onShown(this._onShown);else this._onShown()},_onShown:function n(){new(c("StickersTypedLogger"))().setEvent("open_tray").log()},_onHidden:function n(){this.props.onHidden&&this.props.onHidden()},_onKeyDown:function n(event){if(event.keyCode===c("Keys").ESC&&this.props.onEscKeyDown){event.stopPropagation();event.preventDefault();this.props.onEscKeyDown()}},_onKeyPress:function n(event){if(this.state.packID!==k&&l.indexOf(event.key)===-1)c("StickersActions").selectTrayPack(k)},loadPack:function n(){__p&&__p();var o=c("React").createElement("div",{className:"_e0r"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));if(!this.state.trayLoaded)return o;if(this.state.packID===c("StickerConstants").EMOTICON_PACK_ID)return c("React").createElement("div",{className:"_5r8l","data-id":this.state.packID},c("React").createElement(c("MessagesEmoticons.react"),{onEmoticonSelect:this.props.onEmoticonSelect}));if(this.state.packID===k&&c("StickersConfig").search_pack)return c("React").createElement("div",{className:"_5r8l"},c("React").createElement(c("StickersFlyoutTagSelector.react"),{className:"fbStickersFlyoutTagSelector",stickerInterface:this.props.stickerInterface,shown:this.props.shown,onStickerClick:this._onStickerClick,onStickerKeyDown:this._onStickerKeyDown,size:this.props.size}));var p=this.state.packID===c("StickerConstants").MRU_STICKER_PACK?new(c("StickersFlyoutStickersForMRUPackRoute"))():new(c("StickersFlyoutStickersForPackRoute"))({id:this.state.packID});return c("React").createElement("div",{className:"_5r8l","data-id":this.state.packID},c("React").createElement(c("react-relay/classic/container/RelayRootContainer"),{Component:c("StickersFlyoutStickerSelector.react"),route:p,renderLoading:function q(){return o},renderFetched:function(q){return c("React").createElement(c("StickersFlyoutStickerSelector.react"),babelHelpers["extends"]({},q,{recentStickers:c("StickersStateStore").getState().get("recentStickers"),stickerInterface:this.props.stickerInterface,onStickerClick:this._onStickerClick,onStickerKeyDown:this._onStickerKeyDown,size:this.props.size}))}.bind(this)}))},_onStickerClick:function n(o,event){var p;if(c("StickersStateStore").getState().get("recentStickersLoaded"))c("StickersActions").addRecentSticker(o);this.props.onStickerSelect(o.id,event,{label:o.label,uri:(p=o)!=null?(p=p.image)!=null?p.uri:p:p})},_onStickerKeyDown:function n(o,event){if(event.keyCode===c("Keys").RETURN){event.stopPropagation();event.preventDefault();this.props.onStickerSelect(o.id,event,{label:o.label})}},render:function n(){return c("React").createElement("div",{"aria-label":i._("Stickers"),className:c("joinClasses")(this.props.className,"_5r8f"),onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,role:"dialog"},c("React").createElement("div",{className:"_5r8e"},c("React").createElement(c("react-relay/classic/container/RelayRootContainer"),{Component:c("StickersFlyoutPackSelector.react"),route:new(c("StickersFlyoutPackSelectorRoute"))({stickerInterface:this.props.stickerInterface}),renderFetched:function(o){return c("React").createElement(c("StickersFlyoutPackSelector.react"),babelHelpers["extends"]({},o,{selectedPackID:this.state.packID,stickerInterface:this.props.stickerInterface,shown:this.props.shown}))}.bind(this)})),c("React").createElement("div",{className:"_5r8m"},this.loadPack()))}});f.exports=m}),null);
__d("ReactComposerStickerToggleController.react",["cx","invariant","Arbiter","ContextualLayerAutoFlip","LayerTabIsolation","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingName","ReactComposerTaggerActions","StickerInterfaces","StickersFlyout.react","XUIContextualDialog.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerStickerToggleController",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{taggerID:j.string.isRequired,loggingName:j.oneOf(Object.values(c("ReactComposerLoggingName"))).isRequired,children:j.any,showFlyout:j.bool.isRequired},render:function l(){return c("React").createElement("span",{onClick:this._onSelect,role:"presentation"},c("React").createElement("span",{className:"_4mvf",ref:"container"},this.props.children),this._renderStickerFlyout())},_renderStickerFlyout:function l(){if(!this.props.showFlyout)return null;return c("React").createElement(c("XUIContextualDialog.react"),{alignment:"left",behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),LayerTabIsolation:c("LayerTabIsolation")},contextRef:function(){return this.refs.container}.bind(this),onBlur:this._hideFlyout,onToggle:function(m){if(!m&&this.props.showFlyout)this._hideFlyout()}.bind(this),position:"below",shown:this.props.showFlyout,hasActionableContext:true,width:278},c("React").createElement("div",null,c("React").createElement(c("StickersFlyout.react"),{onEscKeyDown:this._hideFlyout,onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:c("StickerInterfaces").POSTS,shown:this.props.showFlyout})))},_onSelect:function l(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.loggingName,this.props.taggerID,false)},_hideFlyout:function l(){if(this.props.showFlyout)c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.props.loggingName)},_onStickerSelected:function l(m,event,n){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.props.loggingName,this.props.taggerID,{stickerID:m,accessibilityLabel:n?n.label:""});this._hideFlyout();c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onEmoticonSelected:function l(m){i(0)}});f.exports=k}),null);
__d("ReactComposerTaggerSproutContainer.react",["ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerDisabledSproutItem.react","ReactComposerTaggerStore","ReactComposerTaggerToggleController.react","FluxContainer","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("ReactComposerTaggerStore")]};j.calculateState=function(k,l,m){return{highlighted:c("ReactComposerTaggerStore").hasData(m.composerID,l.taggerID),isDisabled:c("ReactComposerTaggerStore").isDisabled(m.composerID,l.taggerID),selectedTagger:c("ReactComposerTaggerStore").getSelectedTagger(m.composerID)}};j.prototype.componentDidUpdate=function(k,l){if(l.selectedTagger===this.props.taggerID&&this.state.selectedTagger===null&&this.refs.sproutItem)this.refs.sproutItem.focus()};j.prototype.render=function(){if(this.state.isDisabled)return c("React").createElement(c("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig});return c("React").createElement(c("ReactComposerTaggerToggleController.react"),babelHelpers["extends"]({},this.props,{loggingName:this.props.uiConfig.loggingName}),c("React").createElement(c("ReactComposerSproutItem.react"),{highlighted:this.state.highlighted,ref:"sproutItem",uiConfig:this.props.uiConfig}))};function j(){h.apply(this,arguments)}j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerActivitySproutContainer.react",["React","FluxContainer","ReactComposerSproutsDefaultUIConfig","ReactComposerTaggerSproutContainer.react","ReactComposerTaggerType","ReactComposerTaggerStore","ExtensibleSproutsItemType","ReactComposerDisabledSproutItem.react","ReactComposerContextTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("ReactComposerTaggerStore")]};j.calculateState=function(k,l,m){var n=m.composerID;return{isDisabled:c("ReactComposerTaggerStore").isDisabled(n,c("ReactComposerTaggerType").ACTIVITY)}};j.prototype.render=function(){if(this.state.isDisabled)return c("React").createElement(c("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig});return c("React").createElement(c("ReactComposerTaggerSproutContainer.react"),{uiConfig:this.props.uiConfig,taggerID:c("ReactComposerTaggerType").ACTIVITY})};function j(){h.apply(this,arguments)}j.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").MINUTIAE]};j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerLocationSproutContainer.react",["React","FluxContainer","ReactComposerSproutsDefaultUIConfig","ReactComposerTaggerSproutContainer.react","ReactComposerTaggerType","ReactComposerTaggerStore","ExtensibleSproutsItemType","ReactComposerDisabledSproutItem.react","ReactComposerContextTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("ReactComposerTaggerStore")]};j.calculateState=function(k,l,m){var n=m.composerID;return{isDisabled:c("ReactComposerTaggerStore").isDisabled(n,c("ReactComposerTaggerType").LOCATION)}};j.prototype.render=function(){if(this.state.isDisabled)return c("React").createElement(c("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig});return c("React").createElement(c("ReactComposerTaggerSproutContainer.react"),{uiConfig:this.props.uiConfig,taggerID:c("ReactComposerTaggerType").LOCATION})};function j(){h.apply(this,arguments)}j.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").LOCATION]};j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerPeopleSproutContainer.react",["React","ReactComposerSproutsDefaultUIConfig","ReactComposerTaggerSproutContainer.react","ReactComposerTaggerType","ExtensibleSproutsItemType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("ReactComposerTaggerSproutContainer.react"),{uiConfig:this.props.uiConfig,taggerID:c("ReactComposerTaggerType").PEOPLE})};function j(){h.apply(this,arguments)}j.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").WITH_TAG]};f.exports=j}),null);
__d("ReactComposerStickerSproutContainer.react",["FluxContainer","React","ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerDisabledSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerStickerToggleController.react","ReactComposerTaggerStore","ReactComposerTaggerType","ExtensibleSproutsItemType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("ReactComposerTaggerStore")]};j.calculateState=function(k,l,m){var n=m.composerID;return{highlighted:c("ReactComposerTaggerStore").hasData(n,c("ReactComposerTaggerType").STICKER),isDisabled:c("ReactComposerTaggerStore").isDisabled(n,c("ReactComposerTaggerType").STICKER),isSelected:c("ReactComposerTaggerStore").getSelectedTagger(n)===c("ReactComposerTaggerType").STICKER}};j.prototype.render=function(){if(this.state.isDisabled)return c("React").createElement(c("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig});return c("React").createElement(c("ReactComposerStickerToggleController.react"),babelHelpers["extends"]({},this.props,{showFlyout:this.state.isSelected,taggerID:c("ReactComposerTaggerType").STICKER,loggingName:this.props.uiConfig.loggingName}),c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted}))};function j(){h.apply(this,arguments)}j.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").STICKER]};j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);