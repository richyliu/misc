if (self.CavalryLogger) { CavalryLogger.start_js(["eB8eT"]); }

__d("FBToggle.react",["cx","invariant","KeyActivationToClickHOC.react","React","ReactCSSTransitionGroup","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={isOpen:this.props.startOpen||!!this.props.open},this.$FBToggle2=function(){if(this.props.disabled)return;if(this.props.onChange)this.props.onChange(!this.state.isOpen,this.props.disabled);this.setState({isOpen:!this.state.isOpen})}.bind(this),o}m.prototype.componentWillReceiveProps=function(n){"use strict";this.setState({isOpen:n.open!=null?n.open:this.state.isOpen})};m.prototype.render=function(){"use strict";var n=this.props.children;n.length==2||n.length==3||i(0);if(n.length==2)n=[n[0]].concat(n);var o=this.state.isOpen?n[1]:n[0],p=n[2],q=(this.state.isOpen?"_4ncx":"")+(!this.state.isOpen?" _4ncy":"")+(this.props.disabled?" _4ncz":""),r=c("joinClasses")(this.props.className,q),s="_4nc-",t="_4nc_"+(!this.state.isOpen?" hidden_elem":""),u=c("React").createElement("span",{"aria-level":this.props.headingLevel,className:s,role:this.props.headingLevel?"heading":null},c("React").createElement("span",{"aria-pressed":this.state.isOpen,onClick:this.$FBToggle2,onKeyPress:this.props.keyActivationToClickEvent,ref:this.props.keyActivationToClickRef,role:"button",tabIndex:"0"}," ",o," ")),v=this.props.animate&&!this.state.isOpen?null:c("React").createElement("span",{className:t}," ",p," ");if(!this.props.animate)return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:r}),u,v);return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:r}),u,c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_naw",transitionName:{enter:"_nax",enterActive:"_nay",leave:"_naz",leaveActive:"_na_"},transitionEnterTimeout:200,transitionLeaveTimeout:200},v))};m.propTypes={startOpen:l.bool,open:l.bool,animate:l.bool,disabled:l.bool,headingLevel:l.oneOf([2,3,4,5,6]),onChange:l.func};m.defaultProps={disabled:false,headingLevel:null,open:null,startOpen:false};f.exports=c("KeyActivationToClickHOC.react")(m)}),null);
__d("TopicFeedsConstant",[],(function a(b,c,d,e,f,g){var h={DEFAULT_PHOTO_AUTO_TAGGING_DELAY:3e3,DEFAULT_PHOTO_POLLING_DURATION:1e4,DEFAULT_PHOTO_POLLING_INTERVAL:1e3,DEFAULT_TEXT_AUTO_TAGGING_DELAY:3e3,DEFAULT_COMPOSER_TOPIC_LIMIT:3,TOPIC_CONFIDENCE_USER_ADD:3,TOPIC_CONFIDENCE_USER_REMOVE:-1,TOPIC_CONFIDENCE_BOOTSTRAP:2};f.exports=h}),null);
__d("InstantGamesSharesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:InstantGamesSharesLoggerConfig",this.$InstantGamesSharesTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:InstantGamesSharesLoggerConfig",this.$InstantGamesSharesTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$InstantGamesSharesTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$InstantGamesSharesTypedLogger1)};h.prototype.updateData=function(j){this.$InstantGamesSharesTypedLogger1=babelHelpers["extends"]({},this.$InstantGamesSharesTypedLogger1,j);return this};h.prototype.setAppID=function(j){this.$InstantGamesSharesTypedLogger1.app_id=j;return this};h.prototype.setAudience=function(j){this.$InstantGamesSharesTypedLogger1.audience=j;return this};h.prototype.setEvent=function(j){this.$InstantGamesSharesTypedLogger1.event=j;return this};h.prototype.setPrivacy=function(j){this.$InstantGamesSharesTypedLogger1.privacy=j;return this};h.prototype.setSource=function(j){this.$InstantGamesSharesTypedLogger1.source=j;return this};h.prototype.setTargetPlatform=function(j){this.$InstantGamesSharesTypedLogger1.target_platform=j;return this};h.prototype.setType=function(j){this.$InstantGamesSharesTypedLogger1.type=j;return this};h.prototype.setVC=function(j){this.$InstantGamesSharesTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$InstantGamesSharesTypedLogger1=babelHelpers["extends"]({},this.$InstantGamesSharesTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={app_id:true,audience:true,event:true,privacy:true,source:true,target_platform:true,type:true,vc:true};f.exports=h}),null);
__d("ReactComposerTopicFeedsTaggerActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({USER_ADD_TAG:null,USER_REMOVE_TAG:null,PREFILL_TAGS:null,SERVER_UPDATE_TAGS:null,SET_COMPOSER_FEED_ID:null,SET_PHOTO_AUTO_TAGGING_DELAY:null,SET_PHOTO_POLLING_DURATION:null,SET_PHOTO_POLLING_INTERVAL:null,SET_TAGGER_MOUNTED:null,SET_TEXT_AUTO_TAGGING_DELAY:null,SET_RESHARE_URL:null,SET_DARK_LAUNCH:null,SET_TARGET_ID:null},"ReactComposerTopicFeedsTaggerActionType")}),null);
__d("ReactComposerTopicFeedsTaggerActions",["ReactComposerDispatcher","ReactComposerTopicFeedsTaggerActionType"],(function a(b,c,d,e,f,g){__p&&__p();h.prototype.addTag=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,topicID:j,type:c("ReactComposerTopicFeedsTaggerActionType").USER_ADD_TAG})};h.prototype.removeTag=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,topicID:j,type:c("ReactComposerTopicFeedsTaggerActionType").USER_REMOVE_TAG})};h.prototype.setDarkLaunch=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,isDarkLaunch:j,type:c("ReactComposerTopicFeedsTaggerActionType").SET_DARK_LAUNCH})};h.prototype.setPhotoAutoTaggingDelay=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,delay:j,type:c("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_AUTO_TAGGING_DELAY})};h.prototype.setPhotoPollingDuration=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,duration:j,type:c("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_POLLING_DURATION})};h.prototype.setPhotoPollingInterval=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,interval:j,type:c("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_POLLING_INTERVAL})};h.prototype.setTaggerMounted=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,isMounted:j,type:c("ReactComposerTopicFeedsTaggerActionType").SET_TAGGER_MOUNTED})};h.prototype.setTextAutoTaggingDelay=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,delay:j,type:c("ReactComposerTopicFeedsTaggerActionType").SET_TEXT_AUTO_TAGGING_DELAY})};h.prototype.updateTags=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,topics:j,type:c("ReactComposerTopicFeedsTaggerActionType").SERVER_UPDATE_TAGS})};h.prototype.prefillTags=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,topicIDs:j,type:c("ReactComposerTopicFeedsTaggerActionType").PREFILL_TAGS})};h.prototype.setComposerFeedID=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,composerFeedID:j,type:c("ReactComposerTopicFeedsTaggerActionType").SET_COMPOSER_FEED_ID})};h.prototype.setReshareURL=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,reshareURL:j,type:c("ReactComposerTopicFeedsTaggerActionType").SET_RESHARE_URL})};h.prototype.setTargetID=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,targetID:j,type:c("ReactComposerTopicFeedsTaggerActionType").SET_TARGET_ID})};function h(){"use strict"}f.exports=new h()}),null);
__d("XFeedTopicClassifierController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/topic/classifier/",{message:{type:"String",defaultValue:""},place_tag_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},captions:{type:"StringVector"},urls:{type:"StringVector"},session_id:{type:"String"},tagged_profile_ids:{type:"FBIDVector"},mention_ids:{type:"FBIDVector"},mentions:{type:"HackType"},minutiae_action_id:{type:"FBID"},minutiae_object_id:{type:"FBID"},minutiae_object_string:{type:"String"},target_ent_id:{type:"FBID"},topics:{type:"HackType"},use_new_form:{type:"Bool",defaultValue:false},classification_session_id:{type:"String"},sequence_number:{type:"Int"}})}),null);
__d("ReactComposerTopicFeedsAutoTaggingRequester",["AsyncRequest","Map","ReactComposerLoggingStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTopicFeedsTaggerActions","ReactComposerTopicFeedsTaggerStore","XFeedTopicClassifierController","emptyFunction","uuid"],(function a(b,c,d,e,f,g){__p&&__p();var h=5e3;function i(){"use strict";this.$ReactComposerTopicFeedsAutoTaggingRequester1=new(c("Map"))();this.$ReactComposerTopicFeedsAutoTaggingRequester2=new(c("Map"))();this.$ReactComposerTopicFeedsAutoTaggingRequester3=new(c("Map"))();this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now()}i.prototype.sendThrottledRequest=function(j,k){"use strict";if(this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;this.$ReactComposerTopicFeedsAutoTaggingRequester1.set(j,setTimeout(function(){this.sendImmediateRequest(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1["delete"](j)}.bind(this),k||h))};i.prototype.sendPhotoPollingRequest=function(j,k,l){"use strict";this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);var m=[];for(var n=l;n<=k;n+=l)m.push(setTimeout(function(){return this.sendImmediateRequest(j)}.bind(this),n));this.$ReactComposerTopicFeedsAutoTaggingRequester2.set(j,m)};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester5=function(j){"use strict";var k=this.$ReactComposerTopicFeedsAutoTaggingRequester2.get(j);if(k){k.forEach(function(l){clearTimeout(l)});this.$ReactComposerTopicFeedsAutoTaggingRequester2["delete"](j)}};i.prototype.sendImmediateRequest=function(j){"use strict";__p&&__p();var k=c("ReactComposerStatusStore").getMessageText(j),l=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").LOCATION),m=l.place&&l.place.getUniqueID(),n=c("ReactComposerMediaUploadStore").getUploadsOfType(j,c("ReactComposerMediaUploadType").PHOTO).map(function(C){return C.photoID}).toArray().filter(function(C){return C}),o=null,p=c("ReactComposerTopicFeedsTaggerStore").getReshareURL(j);if(!p)p=c("ReactComposerScrapedAttachmentStore").getMarkup(j)&&c("ReactComposerScrapedAttachmentStore").getPermissiveMatch(j);if(p)o=[p];var q=this.$ReactComposerTopicFeedsAutoTaggingRequester6(c("ReactComposerStatusStore").getEditorState(j)),r=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").PEOPLE)||[],s=r.map(function(C){return C.getUniqueID()}),t=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").ACTIVITY),u=null,v=null,w=null;if(t&&t.action&&t.object){u=t.action.getUniqueID();if(isNaN(t.object.getUniqueID()))w=t.object.getUniqueID();else v=t.object.getUniqueID()}var x=c("ReactComposerTopicFeedsTaggerStore").getNextPredictionSequenceNumber(j),y=c("ReactComposerTopicFeedsTaggerStore").getTargetID(j),z=c("uuid")(),A=Date.now(),B=c("XFeedTopicClassifierController").getURIBuilder().setString("message",k).setFBID("place_tag_id",m).setFBIDVector("photo_ids",n).setHackType("mentions",q).setFBIDVector("tagged_profile_ids",s).setStringVector("urls",o).setString("session_id",c("ReactComposerLoggingStore").getSessionID(j)).setFBID("minutiae_action_id",u).setFBID("minutiae_object_id",v).setString("minutiae_object_string",w).setFBID("target_ent_id",y).setHackType("topics",c("ReactComposerTopicFeedsTaggerStore").getComposerData(j).topicsInfoList.toArray()).setString("classification_session_id",z).setInt("sequence_number",x).getURI();new(c("AsyncRequest"))(B).setHandler(function(C){return this.$ReactComposerTopicFeedsAutoTaggingRequester7(C,j,z,A,x)}.bind(this)).send()};i.prototype.clearAllPendingRequests=function(j){"use strict";if(!this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;clearTimeout(this.$ReactComposerTopicFeedsAutoTaggingRequester1.get(j));this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1["delete"](j);this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now()};i.prototype.updatePostStatus=function(j,k){"use strict";this.$ReactComposerTopicFeedsAutoTaggingRequester3.set(j,k)};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester7=function(j,k,l,m,n){"use strict";__p&&__p();if(!j||!j.payload)return;var o=null,p=true;if(this.$ReactComposerTopicFeedsAutoTaggingRequester3.get(k)){p=false;o="This post has already been submitted."}else if(m<this.$ReactComposerTopicFeedsAutoTaggingRequester4){p=false;o="Classify start time < Last Request Timestamp"}if(p){this.$ReactComposerTopicFeedsAutoTaggingRequester4=m;c("ReactComposerTopicFeedsTaggerActions").updateTags(k,j.payload)}};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester6=function(j){"use strict";__p&&__p();if(!j)return[];var k=j.getCurrentContent(),l=[];k.getBlockMap().forEach(function(m){m.findEntityRanges(c("emptyFunction").thatReturnsTrue,function(n,o){var p=m.getEntityAt(n);if(!p)return;var q=k.getEntity(p);if(q.getType()!=="MENTION")return;l.push({mention_id:q.getData().id,mention_type:q.getData().type,offset:n,length:o-n})})});return l};f.exports=new i()}),null);
__d("ReactComposerTopicFeedsTaggerStore",["invariant","immutable","ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerScrapedAttachmentActionType","ReactComposerStatusActionType","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerType","ReactComposerTopicFeedsAutoTaggingRequester","ReactComposerTopicFeedsTaggerActionType","TopicFeedsConstant"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("TopicFeedsConstant").DEFAULT_PHOTO_AUTO_TAGGING_DELAY,l=c("TopicFeedsConstant").DEFAULT_PHOTO_POLLING_DURATION,m=c("TopicFeedsConstant").DEFAULT_PHOTO_POLLING_INTERVAL,n=c("TopicFeedsConstant").DEFAULT_TEXT_AUTO_TAGGING_DELAY,o=c("TopicFeedsConstant").TOPIC_CONFIDENCE_USER_ADD,p=c("TopicFeedsConstant").TOPIC_CONFIDENCE_USER_REMOVE,q=c("TopicFeedsConstant").TOPIC_CONFIDENCE_BOOTSTRAP;i=babelHelpers.inherits(r,c("ReactComposerStoreBase"));j=i&&i.prototype;function r(){"use strict";__p&&__p();var s=void 0;j.constructor.call(this,function(){return{autoTaggingEnabled:true,photoAutoTaggingDelay:k,photoPollingDuration:l,photoPollingInterval:m,reshareURL:null,sequenceCounter:0,topicsInfoList:c("immutable").List(),taggerEnabled:false,targetID:null,textAutoTaggingDelay:n}},function(t){__p&&__p();if(!s)return;var u=s.validateAction(t,"composerID");if(!s.getIsTaggerEnabled(u)&&!s.$ReactComposerTopicFeedsTaggerStore1(t))return;switch(t.type){case c("ReactComposerTopicFeedsTaggerActionType").SET_TAGGER_MOUNTED:s.$ReactComposerTopicFeedsTaggerStore2(t);break;case c("ReactComposerTopicFeedsTaggerActionType").USER_ADD_TAG:s.$ReactComposerTopicFeedsTaggerStore3(t);break;case c("ReactComposerTopicFeedsTaggerActionType").USER_REMOVE_TAG:s.$ReactComposerTopicFeedsTaggerStore4(t);break;case c("ReactComposerTopicFeedsTaggerActionType").SERVER_UPDATE_TAGS:s.$ReactComposerTopicFeedsTaggerStore5(t);break;case c("ReactComposerTopicFeedsTaggerActionType").PREFILL_TAGS:s.$ReactComposerTopicFeedsTaggerStore6(t);break;case c("ReactComposerStatusActionType").SET_EDITOR_STATE:s.$ReactComposerTopicFeedsTaggerStore7(t);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerMediaUploadStore").getDispatchToken()]);s.$ReactComposerTopicFeedsTaggerStore8(t);break;case c("ReactComposerActionTypes").POST_STARTED:s.$ReactComposerTopicFeedsTaggerStore9(t);break;case c("ReactComposerActionTypes").POST_ERROR:s.$ReactComposerTopicFeedsTaggerStore10(t);break;case c("ReactComposerTopicFeedsTaggerActionType").SET_COMPOSER_FEED_ID:s.$ReactComposerTopicFeedsTaggerStore11(t);break;case c("ReactComposerTopicFeedsTaggerActionType").SET_TEXT_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore12(t);break;case c("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore13(t);break;case c("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_POLLING_DURATION:s.$ReactComposerTopicFeedsTaggerStore14(t);break;case c("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_POLLING_INTERVAL:s.$ReactComposerTopicFeedsTaggerStore15(t);break;case c("ReactComposerTopicFeedsTaggerActionType").SET_DARK_LAUNCH:s.$ReactComposerTopicFeedsTaggerStore16(t);break;case c("ReactComposerTaggerActionType").SET_TAGGER_DATA:s.$ReactComposerTopicFeedsTaggerStore17(t);break;case c("ReactComposerTopicFeedsTaggerActionType").SET_RESHARE_URL:s.$ReactComposerTopicFeedsTaggerStore18(t);break;case c("ReactComposerTopicFeedsTaggerActionType").SET_TARGET_ID:s.$ReactComposerTopicFeedsTaggerStore19(t);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:s.$ReactComposerTopicFeedsTaggerStore20(t);break}});s=this}r.prototype.getComposerFeedID=function(s){"use strict";return this.getComposerData(s).composerFeedID};r.prototype.getUserAddedTopics=function(s){"use strict";return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===o}).map(function(t){return t.feed_id})};r.prototype.getUserRemovedTopics=function(s){"use strict";return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===p}).map(function(t){return t.feed_id})};r.prototype.getTaggedTopics=function(s){"use strict";return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence>0}).map(function(t){return t.feed_id})};r.prototype.getIsTaggerEnabled=function(s){"use strict";return this.getComposerData(s).taggerEnabled};r.prototype.getIsDarkLaunch=function(s){"use strict";return this.getComposerData(s).isDarkLaunch};r.prototype.getReshareURL=function(s){"use strict";return this.getComposerData(s).reshareURL};r.prototype.getTargetID=function(s){"use strict";return this.getComposerData(s).targetID};r.prototype.getNextPredictionSequenceNumber=function(s){"use strict";return++this.getComposerData(s).sequenceCounter};r.prototype.$ReactComposerTopicFeedsTaggerStore1=function(s){"use strict";return s.type===c("ReactComposerTopicFeedsTaggerActionType").SET_TAGGER_MOUNTED||s.type===c("ReactComposerTopicFeedsTaggerActionType").PREFILL_TAGS};r.prototype.$ReactComposerTopicFeedsTaggerStore2=function(s){"use strict";var t=this.validateAction(s,["composerID","isMounted"]),u=t[0],v=t[1],w=this.getComposerData(u);w.taggerEnabled=v};r.prototype.$ReactComposerTopicFeedsTaggerStore3=function(s){"use strict";__p&&__p();var t=this.validateAction(s,["composerID","topicID"]),u=t[0],v=t[1],w=this.getComposerData(u),x={feed_id:v,confidence:o,context:""},y=w.topicsInfoList.findIndex(function(A){return A.feed_id===v});if(y>=0){var z=w.topicsInfoList.get(y);z.confidence===p||h(0);x.context=z.context;w.topicsInfoList=w.topicsInfoList["delete"](y)}w.topicsInfoList=w.topicsInfoList.push(x);w.autoTaggingEnabled=false;c("ReactComposerTopicFeedsAutoTaggingRequester").clearAllPendingRequests(u);this.emitChange(u)};r.prototype.$ReactComposerTopicFeedsTaggerStore4=function(s){"use strict";__p&&__p();var t=this.validateAction(s,["composerID","topicID"]),u=t[0],v=t[1],w=this.getComposerData(u),x=w.topicsInfoList.findIndex(function(z){return z.feed_id===v});x>=0||h(0);var y={feed_id:v,confidence:p,context:w.topicsInfoList.get(x).context};w.topicsInfoList=w.topicsInfoList["delete"](x);w.topicsInfoList=w.topicsInfoList.push(y);c("ReactComposerTopicFeedsAutoTaggingRequester").clearAllPendingRequests(u);c("ReactComposerTopicFeedsAutoTaggingRequester").sendImmediateRequest(u);w.autoTaggingEnabled=false;this.emitChange(u)};r.prototype.$ReactComposerTopicFeedsTaggerStore5=function(s){"use strict";var t=this.validateAction(s,["composerID","topics"]),u=t[0],v=t[1],w=this.getComposerData(u);if(w.autoTaggingEnabled){w.topicsInfoList=c("immutable").List(v);this.emitChange(u)}};r.prototype.$ReactComposerTopicFeedsTaggerStore6=function(s){"use strict";var t=this.validateAction(s,["composerID","topicIDs"]),u=t[0],v=t[1],w=this.getComposerData(u);w.topicsInfoList=c("immutable").List(v.map(function(x){return{feed_id:x,confidence:q,context:""}}));this.emitChange(u)};r.prototype.$ReactComposerTopicFeedsTaggerStore7=function(s){"use strict";var t=this.validateAction(s,["composerID","editorState"]),u=t[0],v=t[1];if(this.getComposerData(u).autoTaggingEnabled&&v.getCurrentContent().getPlainText().length>0)c("ReactComposerTopicFeedsAutoTaggingRequester").sendThrottledRequest(u,this.getComposerData(u).textAutoTaggingDelay)};r.prototype.$ReactComposerTopicFeedsTaggerStore11=function(s){"use strict";var t=this.validateAction(s,["composerID","composerFeedID"]),u=t[0],v=t[1];this.getComposerData(u).composerFeedID=v};r.prototype.$ReactComposerTopicFeedsTaggerStore8=function(s){"use strict";var t=this.validateAction(s,"composerID");if(this.getComposerData(t).autoTaggingEnabled)c("ReactComposerTopicFeedsAutoTaggingRequester").sendPhotoPollingRequest(t,this.getComposerData(t).photoPollingDuration,this.getComposerData(t).photoPollingInterval)};r.prototype.$ReactComposerTopicFeedsTaggerStore9=function(s){"use strict";var t=this.validateAction(s,"composerID");c("ReactComposerTopicFeedsAutoTaggingRequester").clearAllPendingRequests(t);c("ReactComposerTopicFeedsAutoTaggingRequester").updatePostStatus(t,true);this.getComposerData(t).autoTaggingEnabled=false};r.prototype.$ReactComposerTopicFeedsTaggerStore10=function(s){"use strict";var t=this.validateAction(s,"composerID");this.getComposerData(t).autoTaggingEnabled=true;c("ReactComposerTopicFeedsAutoTaggingRequester").updatePostStatus(t,false)};r.prototype.$ReactComposerTopicFeedsTaggerStore12=function(s){"use strict";var t=this.validateAction(s,["composerID","delay"]),u=t[0],v=t[1];this.getComposerData(u).textAutoTaggingDelay=v};r.prototype.$ReactComposerTopicFeedsTaggerStore13=function(s){"use strict";var t=this.validateAction(s,["composerID","delay"]),u=t[0],v=t[1];this.getComposerData(u).photoAutoTaggingDelay=v};r.prototype.$ReactComposerTopicFeedsTaggerStore14=function(s){"use strict";var t=this.validateAction(s,["composerID","duration"]),u=t[0],v=t[1];this.getComposerData(u).photoPollingDuration=v};r.prototype.$ReactComposerTopicFeedsTaggerStore15=function(s){"use strict";var t=this.validateAction(s,["composerID","interval"]),u=t[0],v=t[1];this.getComposerData(u).photoPollingInterval=v};r.prototype.$ReactComposerTopicFeedsTaggerStore17=function(s){"use strict";var t=this.validateAction(s,["composerID","taggerID","taggerData"]),u=t[0],v=t[1],w=t[2];if(v===c("ReactComposerTaggerType").ACTIVITY&&w.object||v===c("ReactComposerTaggerType").PEOPLE&&w.length>0||v===c("ReactComposerTaggerType").LOCATION&&w.place)c("ReactComposerTopicFeedsAutoTaggingRequester").sendImmediateRequest(u)};r.prototype.$ReactComposerTopicFeedsTaggerStore16=function(s){"use strict";var t=this.validateAction(s,["composerID","isDarkLaunch"]),u=t[0],v=t[1];this.getComposerData(u).isDarkLaunch=v};r.prototype.$ReactComposerTopicFeedsTaggerStore18=function(s){"use strict";var t=this.validateAction(s,["composerID","reshareURL"]),u=t[0],v=t[1];this.getComposerData(u).reshareURL=v;c("ReactComposerTopicFeedsAutoTaggingRequester").sendImmediateRequest(u)};r.prototype.$ReactComposerTopicFeedsTaggerStore19=function(s){"use strict";var t=this.validateAction(s,["composerID","targetID"]),u=t[0],v=t[1];this.getComposerData(u).targetID=v};r.prototype.$ReactComposerTopicFeedsTaggerStore20=function(s){"use strict";var t=this.validateAction(s,"composerID");c("ReactComposerTopicFeedsAutoTaggingRequester").sendImmediateRequest(t)};f.exports=new r()}),null);
__d("ShareDialogAttachment.react",["cx","fbt","React","emptyFunction","Link.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={expanded:false},this.$ShareDialogAttachment1=function(){if(this.state.expanded)this.props.onCollapse();else this.props.onExpand();this.setState({expanded:!this.state.expanded})}.bind(this),o}m.prototype.render=function(){"use strict";__p&&__p();var n;if(this.props.overflowing){var o;if(this.state.expanded)o=c("React").createElement("span",null,c("React").createElement("span",{className:"_u_1"},"\u2191"),"\xa0",i._("Collapse"));else o=c("React").createElement("span",null,i._("Show All"),"\xa0",c("React").createElement("span",{className:"_u_1"},"\u2193"));n=c("React").createElement("p",{className:"_u_2"},c("React").createElement(c("Link.react"),{className:"_u_3",onClick:this.$ShareDialogAttachment1},o))}var p="_u_4 _5p9g"+(this.props.overflowing&&!this.state.expanded?" _u_5":"");return c("React").createElement("div",{className:p},n,this.props.children)};m.propTypes={overflowing:l.bool,onExpand:l.func,onCollapse:l.func};m.defaultProps={overflowing:false,onExpand:c("emptyFunction"),onCollapse:c("emptyFunction")};f.exports=m}),null);
__d("ShareDialogDropdownForSharePostOrLink.react",["cx","fbt","React","XUICheckboxInput.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l="post_and_link",m="link_only",n=c("React").PropTypes;g.framework="React";j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={value:l},this.onChange=function(u){this.setState({value:u?m:l});this.props.onSelectSharePostOrLink(!u)}.bind(this),q}o.prototype.componentDidMount=function(){"use strict";this.props.onSelectSharePostOrLink(this.state.value===l)};o.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_3-9a"},c("React").createElement(c("XUICheckboxInput.react"),{name:"share type",checked:this.state.value===l,onChange:this.onChange.bind(this,this.state.value===l)}),i._("Include Original Post"))};o.propTypes={onSelectSharePostOrLink:n.func};o.defaultProps={onSelectSharePostOrLink:c("emptyFunction")};f.exports=o}),null);
__d("InstantGamesSharesEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SHARE_SHOWN:"share_shown",SHARE_CANCELED:"share_cancelled",SHARE_SUCCESS:"share_success"})}),null);
__d("InstantGamesSharesTargetPlatform",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FACEBOOK:"facebook",MESSENGER:"messenger"})}),null);
__d("InstantGamesSharesType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({GAME_SHARE:"game_share"})}),null);
__d("ReactComposerShareNowActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({SHOW_SHARENOW_MENU:null,SHARE_NOW:null,OPEN_FRIEND_TIMELINE_DIALOG:null,OPEN_MESSAGE_DIALOG:null,OPEN_SHARE_DIALOG:null,CANCEL_SHARE:null})}),null);
__d("ReactComposerShareNowActions",["ReactComposerDispatcher","ReactComposerShareNowActionTypes"],(function a(b,c,d,e,f,g){var h={showShareNowMenu:function i(){c("ReactComposerDispatcher").dispatch({composerID:"",type:c("ReactComposerShareNowActionTypes").SHOW_SHARENOW_MENU,suppressWaterfallLogging:true})},clickShareNow:function i(){c("ReactComposerDispatcher").dispatch({composerID:"",type:c("ReactComposerShareNowActionTypes").SHARE_NOW,suppressWaterfallLogging:true})},clickWritePost:function i(){c("ReactComposerDispatcher").dispatch({composerID:"",type:c("ReactComposerShareNowActionTypes").OPEN_SHARE_DIALOG,suppressWaterfallLogging:true})},clickSendMessage:function i(){c("ReactComposerDispatcher").dispatch({composerID:"",type:c("ReactComposerShareNowActionTypes").OPEN_MESSAGE_DIALOG,suppressWaterfallLogging:true})},clickShareFriendTimeline:function i(){c("ReactComposerDispatcher").dispatch({composerID:"",type:c("ReactComposerShareNowActionTypes").OPEN_FRIEND_TIMELINE_DIALOG,suppressWaterfallLogging:true})},cancelShare:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerShareNowActionTypes").CANCEL_SHARE})}};f.exports=h}),null);
__d("DialogExpansionAtWidth",["DialogExpansion"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("DialogExpansion"));i=h&&h.prototype;j.prototype._getWidth=function(){"use strict";return this._dialog.getWidth()};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("ReactShareDialogAttachmentContainer.react",["cx","csx","ReactComposerContextTypes","ShareDialogAttachment.react","DOMContainer.react","DOMQuery","LitestandShareAttachment","React","ReactDOM"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=400,l=c("React").createClass({displayName:"ReactShareDialogAttachmentContainer",contextTypes:c("ReactComposerContextTypes"),propTypes:{attachment:j.instanceOf(HTMLElement)},getInitialState:function m(){return{shouldOverflow:false,hasSphericalPhoto:false}},componentDidMount:function m(){__p&&__p();setTimeout(function(){__p&&__p();var n=false,o=false;if(this.props.attachment&&this.refs.attachment){var p=c("ReactDOM").findDOMNode(this.refs.attachment);if(p){var q=c("DOMQuery").scry(p,"._6m2")[0],r=c("DOMQuery").scry(p,"._31bl");c("LitestandShareAttachment").init(q||p);n=p.clientHeight>k;o=r.length>0}}this.setState({shouldOverflow:n,hasSphericalPhoto:o})}.bind(this),0)},render:function m(){if(!this.props.attachment)return null;var n=null;if(this.state.hasSphericalPhoto===false)n=c("React").createElement("div",{className:"_2nzp"});return c("React").createElement(c("ShareDialogAttachment.react"),{overflowing:this.state.shouldOverflow},c("React").createElement("div",{ref:"attachment",className:"_51jo"},c("React").createElement(c("DOMContainer.react"),null,this.props.attachment),n))}});f.exports=l}),null);
__d("ReactShareDialogComposerActionType",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({SET_SHARE_DIALOG_TARGET:null,SET_SHARE_DIALOG_TARGET_INFO:null,SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:null,SET_SHARE_DIALOG_TYPE:null,SET_SHARE_TO_GROUPS_AS_PAGE:null})}),null);
__d("ReactShareDialogComposerStore",["ReactComposerStoreBase","ReactShareDialogComposerActionType"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k;i.constructor.call(this,function(){return{target:null,targetInfo:{}}},function(l){__p&&__p();switch(l.type){case c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET:k&&k.$ReactShareDialogComposerStore1(l);break;case c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET_INFO:k&&k.$ReactShareDialogComposerStore2(l);break;case c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:k&&k.$ReactShareDialogComposerStore3(l);break;case c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TYPE:k&&k.$ReactShareDialogComposerStore4(l);break;case c("ReactShareDialogComposerActionType").SET_SHARE_TO_GROUPS_AS_PAGE:k&&k.$ReactShareDialogComposerStore5(l);break}});k=this}j.prototype.getTarget=function(k){"use strict";return this.getComposerData(k).target};j.prototype.getTargetInfo=function(k){"use strict";return this.getComposerData(k).targetInfo};j.prototype.getTargetedPrivacyData=function(k){"use strict";return this.getComposerData(k).targetedPrivacyData};j.prototype.getShareDialogType=function(k){"use strict";return this.getComposerData(k).shareType};j.prototype.getShareToGroupsAsPage=function(k){"use strict";return!!this.getComposerData(k).shareToGroupsAsPage};j.prototype.$ReactShareDialogComposerStore1=function(k){"use strict";var l=this.getComposerData(k.composerID);l.target=k.target;this.emitChange(k.composerID)};j.prototype.$ReactShareDialogComposerStore2=function(k){"use strict";var l=this.getComposerData(k.composerID);l.targetInfo=k.targetInfo;this.emitChange(k.composerID)};j.prototype.$ReactShareDialogComposerStore3=function(k){"use strict";var l=this.getComposerData(k.composerID);l.targetedPrivacyData=k.targetedPrivacyData;this.emitChange(k.composerID)};j.prototype.$ReactShareDialogComposerStore4=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareType=k.shareType;this.emitChange(k.composerID)};j.prototype.$ReactShareDialogComposerStore5=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareToGroupsAsPage=k.shareToGroupsAsPage;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("ReactShareDialogComposerActions",["ReactComposerDispatcher","ReactShareDialogComposerActionType","ReactShareDialogComposerStore"],(function a(b,c,d,e,f,g){c("ReactShareDialogComposerStore");var h={setTarget:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET,target:k})},setTargetInfo:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET_INFO,targetInfo:k})},setTargetedPrivacyData:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA,targetedPrivacyData:k})},setTypeOfShare:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TYPE,shareType:k})},setShareToGroupAsPage:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_TO_GROUPS_AS_PAGE,shareToGroupsAsPage:k})}};f.exports=h}),null);
__d("ReactShareDialogComposerStatusAttachmentFooter.react",["ix","cx","fbt","invariant","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerAudienceSelectorContainer.react","ReactComposerContextTypes","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerAlbumTaggerButtonContainer.react","ReactComposerCollectionSelectorContainerGatedModule","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ShareDialogAudienceTypes","ReactShareDialogComposerActions","ReactShareDialogComposerStore","BasicTypeaheadLoggerJSConstants","Image.react","InlineBlock.react","Tooltip","Arbiter","LeftRight.react","PlaceSearchConstants","ReactComponentWithPureRenderMixin","React","SubscriptionsHandler","UITargetedPrivacyWidget","XUIAmbientNUX.react","XUIButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=c("ReactComposerCollectionSelectorContainerGatedModule").module,m=c("BasicTypeaheadLoggerJSConstants").EventNames,n=c("React").PropTypes,o="react_share_dialog_post_button",p=c("React").createClass({displayName:"ReactShareDialogComposerStatusAttachmentFooter",_subscriptionsHandler:null,_targetingWidgetInstance:null,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{onActivityNUXClose:n.func,onCancel:n.func,onPost:n.func,onSelectActivity:n.func,onSelectLocation:n.func,pagePrivacySelector:n.instanceOf(HTMLElement),placeID:n.string,posting:n.bool,privacySelector:n.instanceOf(HTMLElement),shouldHideAllButtons:n.bool,showActivityNUX:n.bool,showWhichTaggers:n.object.isRequired,taggersConfig:n.object,taggersSource:n.object,target:c("ShareDialogAudienceTypes").isValid,targetInfo:n.object.isRequired,targetingWidgetInstance:n.object},getDefaultProps:function q(){var r={};r[c("ReactComposerTaggerType").PEOPLE]=false;r[c("ReactComposerTaggerType").LOCATION]=false;r[c("ReactComposerTaggerType").ACTIVITY]=false;return{onCancel:c("emptyFunction"),onPost:c("emptyFunction"),onActivityNUXClose:c("emptyFunction"),onSelectActivity:c("emptyFunction"),onSelectLocation:c("emptyFunction"),shouldHideAllButtons:false,showActivityNUX:false,showWhichTaggers:r,targetInfo:{}}},componentWillMount:function q(){this._targetingWidgetInstance=null;this._subscriptionsHandler=new(c("SubscriptionsHandler"))();this._subscriptionsHandler.addSubscriptions(c("Arbiter").subscribe("UIPrivacyWidget/globalPrivacyChanged",function(r,s){c("ReactShareDialogComposerActions").setTargetedPrivacyData(this.context.composerID,s.data)}.bind(this)))},componentWillUnmount:function q(){this._subscriptionsHandler.release()},render:function q(){return c("React").createElement("div",null,this._getTaggers(),c("React").createElement(c("ReactComposerFooterContainer.react"),{background:"light-wash"},c("React").createElement(c("LeftRight.react"),null,this._getButtons(),this._getFooterActions())))},_shouldHideAllTaggers:function q(){for(var r in this.props.showWhichTaggers)if(this.props.showWhichTaggers[r])return false;return true},_getTaggers:function q(){if(this._shouldHideAllTaggers())return c("React").createElement("noscript",null);this.props.taggersConfig!=null&&this.props.taggersSource!=null||k(0);var r=this.props.taggersConfig[c("ReactComposerTaggerType").OG],s=this.props.showWhichTaggers[c("ReactComposerTaggerType").PEOPLE]?c("React").createElement(c("ReactComposerPeopleTaggerContainer.react"),{actorID:this.context.actorID,layerPosition:"above",taggerSource:this.props.taggersSource[c("ReactComposerTaggerType").PEOPLE],taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}):null,t=this.props.showWhichTaggers[c("ReactComposerTaggerType").LOCATION]?c("React").createElement(c("ReactComposerLocationTaggerContainer.react"),{actorID:this.context.actorID,layerPosition:"above",onSelect:this.props.onSelectLocation,taggerSource:this.props.taggersSource[c("ReactComposerTaggerType").LOCATION],taggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE_SHORT,typeaheadLoggerEventName:m.REACT_SHARE_DIALOG_LOCATION_TAGGER,typeaheadSearchSource:c("PlaceSearchConstants").SOURCE_W_COMPOSER}):null,u=this.props.showWhichTaggers[c("ReactComposerTaggerType").ACTIVITY]?c("React").createElement(c("ReactComposerActivityTaggerContainer.react"),{actorID:this.context.actorID,layerPosition:"above",onSelect:this.props.onSelectActivity,placeID:this.props.placeID,taggerSource:this.props.taggersSource[c("ReactComposerTaggerType").ACTIVITY],actionTypeIDsWithNoFreeForm:r.actionTypeIDsWithNoFreeForm,actionTypeIDsToPrefetch:r.actionTypeIDsToPrefetch,rankVerbs:r.rankVerbs,typeaheadLoggerEventName:m.REACT_SHARE_DIALOG_OG_TAGGER,actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE_SHORT,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE_SHORT}):null;return c("React").createElement(c("ReactComposerTaggers.react"),null,s,t,u)},_getButtons:function q(){if(this._shouldHideAllTaggers()||this.props.posting)return c("React").createElement("noscript",null);var r=this.props.showWhichTaggers[c("ReactComposerTaggerType").PEOPLE]?c("React").createElement(c("ReactComposerPeopleTaggerButton.react"),null):null,s=this.props.showWhichTaggers[c("ReactComposerTaggerType").LOCATION]?c("React").createElement(c("ReactComposerLocationTaggerButton.react"),null):null,t=this.props.showWhichTaggers[c("ReactComposerTaggerType").ACTIVITY]?c("React").createElement(c("ReactComposerActivityTaggerButton.react"),{ref:"activityButton"}):null,u=this.props.target===c("ShareDialogAudienceTypes").OWN&&this.props.showWhichTaggers[c("ReactComposerTaggerType").ALBUM]&&l?c("React").createElement(l,{addAnyPostToAlbum:true,canCreateSharingSpace:false,showSharingSpaces:false,alternateTriggerComponent:c("React").createElement(c("ReactComposerAlbumTaggerButtonContainer.react"),null)}):null;return c("React").createElement(c("ReactComposerTaggerButtons.react"),null,r,s,t,u,this._getActivityNUX())},_getActivityNUX:function q(){if(!this.props.showActivityNUX||!this.refs.activityButton)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.activityButton}.bind(this),onCloseButtonClick:this.props.onActivityNUXClose,position:"above",shown:true},j._("New! You can choose to share your feelings and activities."))},_getFooterActions:function q(){__p&&__p();var r=null,s=null,t=null;if(!this.props.posting)if(this.props.target===c("ShareDialogAudienceTypes").OWN)r=c("React").createElement(c("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.privacySelector,viewerIsTarget:true});else if(this.props.target===c("ShareDialogAudienceTypes").GROUP){var u=j._("People who can see posts in the group");s=c("React").createElement(c("InlineBlock.react"),babelHelpers["extends"]({className:"_3-90"},c("Tooltip").propsFor(u)),c("React").createElement(c("Image.react"),{className:"_4q3o",src:h("83921")}))}else if(this.props.target===c("ShareDialogAudienceTypes").PAGE&&this.props.targetInfo.audienceTargets&&this.props.targetInfo.audienceTargets[0]===this.props.targetInfo.userId){t=c("React").createElement(c("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.pagePrivacySelector,viewerIsTarget:false});if(!this._targetingWidgetInstance)this._targetingWidgetInstance=c("UITargetedPrivacyWidget").getInstance(this.props.pagePrivacySelector.id);if(this._targetingWidgetInstance){var v=c("ReactShareDialogComposerStore").getTargetInfo(this.context.composerID).userId;this._targetingWidgetInstance.setProfileID(v)}}var w=this.props.target!==c("ShareDialogAudienceTypes").OWN&&!this.props.targetInfo.audienceTargets,x=this.props.postButtonLabel;if(x===undefined)if(this.props.target!==c("ShareDialogAudienceTypes").MESSAGE)x=this.props.posting?j._("Posting"):j._("Post");else x=this.props.posting?j._("Sending"):j._("Send");var y=this.props.shouldHideAllButtons?null:c("React").createElement("div",{className:"_4-88"},c("React").createElement(c("XUIButton.react"),{use:"default",label:j._("Cancel"),className:"_2g60",onClick:this.props.onCancel}),c("React").createElement(c("XUIButton.react"),{use:"confirm",label:x,className:"_2g61",onClick:this.props.onPost,disabled:w,"data-testid":o}));return c("React").createElement(c("ReactComposerFooterActions.react"),null,r,s,t,y)}});f.exports=p}),null);
__d("ReactShareDialogComposerStatusAttachmentFooterContainer.react",["ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ComposerNUXType","ComposerXNUX","ReactShareDialogComposerStatusAttachmentFooter.react","ReactShareDialogComposerStore","ReactComponentWithPureRenderMixin","React"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactShareDialogComposerStatusAttachmentFooterContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"),c("ReactShareDialogComposerStore"))],propTypes:{showActivityNUX:h.bool},statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").LOCATION),n=m&&m.place&&m.place.getUniqueID();return{placeID:n,target:c("ReactShareDialogComposerStore").getTarget(k),targetInfo:c("ReactShareDialogComposerStore").getTargetInfo(k)}}},getInitialState:function j(){return{showActivityNUX:this.props.showActivityNUX}},componentWillMount:function j(){if(this.props.showActivityNUX)setTimeout(function(){this.setState({showActivityNUX:true})}.bind(this),1e3)},render:function j(){return c("React").createElement(c("ReactShareDialogComposerStatusAttachmentFooter.react"),babelHelpers["extends"]({},this.props,this.state,{posting:this.props.status.type=="posting",onActivityNUXClose:this._onActivityNUXClose,onPost:this.props.onPost}))},_onActivityNUXClose:function j(){this.setState({showActivityNUX:false});c("ComposerXNUX").sendMarkSeenRequest(c("ComposerNUXType").SHARER_MINUTIAE_NUX)}});f.exports=i}),null);
__d("ShareDialogWarningNotice.react",["ix","cx","fbt","FBToggle.react","Image.react","LeftRight.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){"use strict";return c("React").createElement(c("FBToggle.react"),{className:"_3ba_"},c("React").createElement(c("LeftRight.react"),{className:"_3bb0"},c("React").createElement("span",{className:"_3bb1"},c("React").createElement(c("Image.react"),{src:h("139498")})),c("React").createElement("span",{className:"_3bb2"},j._("Who can see this?"))),c("React").createElement("div",{className:"_3bb3"},c("React").createElement("span",{dangerouslySetInnerHTML:this.props.warning})))};function n(){"use strict";k.apply(this,arguments)}n.propTypes={warning:m.object.isRequired};f.exports=n}),null);
__d("ReactShareDialogComposerStatusAttachment.react",["cx","fbt","BootloadedComponent.react","ReactComposerAudienceActions","ReactComposerContextTypes","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerTaggerSummaryContainer.react","ReactComposerTaggerType","JSResource","MercuryConfig","ReactShareDialogAttachmentContainer.react","ShareDialogAudienceTypes","ReactShareDialogComposerStatusAttachmentFooterContainer.react","ReactShareDialogComposerActions","ShareDialogDataSources","ShareDialogDropdownForSharePostOrLink.react","ShareDialogWarningNotice.react","SharerType","React","emptyFunction","getOwnObjectValues"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactShareDialogComposerStatusAttachment",_inputContainer:c("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),contextTypes:c("ReactComposerContextTypes"),propTypes:{activeAudience:c("ShareDialogAudienceTypes").propType,hideWhichTaggers:j.arrayOf(j.oneOf(Object.keys(c("ReactComposerTaggerType")))),pagePrivacySelector:j.instanceOf(HTMLElement),privacySelector:j.instanceOf(HTMLElement),attachment:j.object,messageAttachment:j.object,dataSources:j.instanceOf(c("ShareDialogDataSources")),taggersData:j.object,onCancel:j.func,onPost:j.func,placeholderText:j.node,publicityWarning:j.object,showDoingNUX:j.bool,useCheckinBranding:j.bool,sharerType:j.oneOf(c("getOwnObjectValues")(c("SharerType"))),shouldAlwaysHideAllTaggers:j.bool.isRequired,shouldHideAllButtons:j.bool.isRequired,taggersConfig:j.object,postButtonLabel:j.string,postPreview:j.object},getInitialState:function l(){return{showPostPreview:this.props.postPreview!==null}},getDefaultProps:function l(){return{hideWhichTaggers:[],taggersData:{},onCancel:c("emptyFunction"),onPost:c("emptyFunction"),postPreview:null}},componentDidMount:function l(){var m=this.props.activeAudience===c("ShareDialogAudienceTypes").MESSAGE&&this.props.lockMessageTargets;if(this.props.activeAudience===c("ShareDialogAudienceTypes").OWN||this.props.activeAudience===c("ShareDialogAudienceTypes").PAGE||m)this._inputContainer.focus()},componentDidUpdate:function l(m,n){if(this.props.activeAudience===c("ShareDialogAudienceTypes").PAGE&&m.activeAudience!==c("ShareDialogAudienceTypes").PAGE)c("ReactComposerAudienceActions").setCollectionIDWithoutLogging(this.context.composerID,null)},_getDropdownForSharePostOrLink:function l(){return c("React").createElement(c("ShareDialogDropdownForSharePostOrLink.react"),{onSelectSharePostOrLink:this._onSelectSharePostOrLink})},_onSelectSharePostOrLink:function l(m){this.setState({showPostPreview:this.props.postPreview?m:false});c("ReactShareDialogComposerActions").setTypeOfShare(this.context.composerID,m)},render:function l(){__p&&__p();var m=this.props.dataSources,n=m&&this.props.activeAudience!==c("ShareDialogAudienceTypes").MESSAGE?m.getSource(c("ShareDialogDataSources").TYPES.MENTIONS):null,o=this.props.placeholderText||i._("Say something about this..."),p=c("React").createElement("noscript",null);if(!this._shouldHideAllTaggers())p=c("React").createElement(c("ReactComposerTaggerSummaryContainer.react"),null);var q=this.props.activeAudience===c("ShareDialogAudienceTypes").MESSAGE||this.props.postPreview===null||this.props.isThrowbackPost?null:this._getDropdownForSharePostOrLink(),r=null;if(this.props.topicFeedsTagger&&this.props.activeAudience!==c("ShareDialogAudienceTypes").MESSAGE){var s=this.props.topicFeedsTagger.container;r=c("React").createElement(s,{composerFeedID:this.props.topicFeedsTagger.composerFeedID,photoAutoTaggingDelay:this.props.topicFeedsTagger.photoAutoTaggingDelay,showNux:this.props.topicFeedsTagger.showNux,textAutoTaggingDelay:this.props.topicFeedsTagger.textAutoTaggingDelay,photoPollingDuration:this.props.topicFeedsTagger.photoPollingDuration,photoPollingInterval:this.props.topicFeedsTagger.photoPollingInterval,reshareURL:this.props.topicFeedsTagger.reshareURL,topicLimit:this.props.topicFeedsTagger.topicLimit,darkLaunch:this.props.topicFeedsTagger.darkLaunch})}var t=c("MercuryConfig").MNNSS&&this.props.activeAudience===c("ShareDialogAudienceTypes").MESSAGE,u=c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{mentionsSource:n,placeholder:o,ref:function(u){return this._inputContainer=u}.bind(this),mentionsEnabled:!t});return c("React").createElement("div",null,!t&&u,p,q,this._renderAttachment(t),!t&&this._getWarning(),r,t&&c("React").createElement("div",{className:"_3krx"},u),t?null:c("React").createElement(c("ReactShareDialogComposerStatusAttachmentFooterContainer.react"),{onCancel:this.props.onCancel,onPost:this.props.onPost,pagePrivacySelector:this.props.pagePrivacySelector,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,shouldHideAllButtons:this.props.shouldHideAllButtons,showActivityNUX:this.props.showDoingNUX,showWhichTaggers:this._showWhichTaggers(),status:this.props.status,taggersConfig:this.props.taggersConfig,taggersSource:this._getTaggersSource()}))},_shouldHideAllTaggers:function l(){return this.props.activeAudience===c("ShareDialogAudienceTypes").MESSAGE||this.props.shouldAlwaysHideAllTaggers},_showWhichTaggers:function l(){__p&&__p();var m={};if(this._shouldHideAllTaggers()){m[c("ReactComposerTaggerType").PEOPLE]=false;m[c("ReactComposerTaggerType").LOCATION]=false;m[c("ReactComposerTaggerType").ACTIVITY]=false;m[c("ReactComposerTaggerType").ALBUM]=false;return m}m[c("ReactComposerTaggerType").PEOPLE]=true;m[c("ReactComposerTaggerType").LOCATION]=true;m[c("ReactComposerTaggerType").ACTIVITY]=true;m[c("ReactComposerTaggerType").ALBUM]=this.props.taggersConfig&&this.props.taggersConfig[c("ReactComposerTaggerType").ALBUM]&&this.props.taggersConfig[c("ReactComposerTaggerType").ALBUM].enabled;if(this.props.hideWhichTaggers)for(var n=0,o=this.props.hideWhichTaggers.length;n<o;n++)m[this.props.hideWhichTaggers[n]]=false;return m},_getTaggersSource:function l(){var m=this.props.dataSources;if(!m)return null;var n={};n[c("ReactComposerTaggerType").PEOPLE]=m.getSource(c("ShareDialogDataSources").TYPES.PERSON);n[c("ReactComposerTaggerType").LOCATION]=m.getSource(c("ShareDialogDataSources").TYPES.PLACE);n[c("ReactComposerTaggerType").ACTIVITY]=m.getSource(c("ShareDialogDataSources").TYPES.ACTION);return n},_getTaggerData:function l(m){return this.props.taggersData?this.props.taggersData[m]:null},_getWarning:function l(){if(!this.props.publicityWarning)return c("React").createElement("noscript",null);return c("React").createElement(c("ShareDialogWarningNotice.react"),{warning:this.props.publicityWarning})},_renderAttachment:function l(m){if(m){var n=this.props.messageAttachment;return n?c("React").createElement("div",{className:"_3y6s"},c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("MercuryFallbackShareAttachment.react").__setRef("ReactShareDialogComposerStatusAttachment.react"),bootloadPlaceholder:c("React").createElement("div",null),attachment:n})):c("React").createElement("div",{className:"_3y6s"},i._("Preview not available."))}else{var o=this.state.showPostPreview&&this.props.activeAudience!==c("ShareDialogAudienceTypes").MESSAGE?this.props.postPreview:this.props.attachment;return c("React").createElement(c("ReactShareDialogAttachmentContainer.react"),{attachment:o})}}});f.exports=k}),null);
__d("ReactShareDialogComposerStatusAttachmentContainer.react",["ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","React","ReactShareDialogComposerStore","ShareDialogAudienceTypes","ReactShareDialogComposerStatusAttachment.react","ShareDialogDataSources","emptyFunction"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactShareDialogComposerStatusAttachmentContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"),c("ReactShareDialogComposerStore"))],propTypes:{activeAudience:c("ShareDialogAudienceTypes").propType,attachment:h.object,dataSources:h.instanceOf(c("ShareDialogDataSources")),onCancel:h.func,onPost:h.func,pagePrivacySelector:h.instanceOf(HTMLElement),privacySelector:h.instanceOf(HTMLElement),publicityWarning:h.object,shouldAlwaysHideAllTaggers:h.bool.isRequired,shouldHideAllButtons:h.bool.isRequired,showDoingNUX:h.bool},getDefaultProps:function j(){return{onCancel:c("emptyFunction"),onPost:c("emptyFunction")}},statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").ACTIVITY);return{taggersData:c("ReactComposerTaggerStore").getTaggersData(k),actionIconID:m?m.actionIconID:null}}},render:function j(){return c("React").createElement(c("ReactShareDialogComposerStatusAttachment.react"),babelHelpers["extends"]({ref:"shareBody"},this.props,this.state))}});f.exports=i}),null);
__d("ReactShareDialogComposerStatusEagerAttachment.react",["ReactComposerAttachmentType","ReactComposerAttachmentBodyMixin","ShareDialogAudienceTypes","ReactShareDialogComposerStatusAttachmentContainer.react","ShareDialogDataSources","React","emptyFunction"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactShareDialogComposerStatusEagerAttachment",mixins:[c("ReactComposerAttachmentBodyMixin")()],propTypes:{activeAudience:c("ShareDialogAudienceTypes").propType,attachment:h.object,dataSources:h.instanceOf(c("ShareDialogDataSources")),onCancel:h.func,onPost:h.func,pagePrivacySelector:h.instanceOf(HTMLElement),privacySelector:h.instanceOf(HTMLElement),publicityWarning:h.object,selected:h.bool,shouldAlwaysHideAllTaggers:h.bool.isRequired,shouldHideAllButtons:h.bool.isRequired,showDoingNUX:h.bool,taggersConfig:h.object,via:h.object},getDefaultProps:function j(){return{selected:true,onCancel:c("emptyFunction"),onPost:c("emptyFunction")}},statics:{attachmentID:c("ReactComposerAttachmentType").STATUS},renderX:function j(){return c("React").createElement(c("ReactShareDialogComposerStatusAttachmentContainer.react"),this.props)}});f.exports=i}),null);
__d("ShareDialogStatusTypes",["getObjectValues"],(function a(b,c,d,e,f,g){var h=Object.freeze({COMPOSING:"composing",ERROR:"error",POSTING:"posting",SUCCESS:"success"}),i=c("getObjectValues")(h);f.exports=babelHelpers["extends"]({},h,{ALL:i,isValid:function j(k){return i.some(function(l){return l===k})}})}),null);
__d("ReactShareDialogComposer.react",["ReactComposer.react","ReactComposerBody.react","ReactComposerContextTypes","ReactComposerContextConfig","ReactComposerLoggingName","ReactComposerPrefillConfig","ReactComposerPrefillUtils","ShareDialogAudienceTypes","ReactShareDialogComposerStatusEagerAttachment.react","ShareDialogDataSources","ShareDialogStatusTypes","SharerType","React","emptyFunction","getOwnObjectValues"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactShareDialogComposer",contextTypes:c("ReactComposerContextTypes"),propTypes:{activeAudience:c("ShareDialogAudienceTypes").propType,attachment:h.object,contextConfig:c("ReactComposerContextConfig").isRequired,dataSources:h.instanceOf(c("ShareDialogDataSources")),onCancel:h.func,onPost:h.func,loggingConfig:h.object,pagePrivacySelector:h.instanceOf(HTMLElement),postButtonLabel:h.string,postId:h.string,prefillConfig:c("ReactComposerPrefillConfig"),privacySelector:h.instanceOf(HTMLElement),publicityWarning:h.object,sharerType:h.oneOf(c("getOwnObjectValues")(c("SharerType"))),shareType:h.string,shouldAlwaysHideAllTaggers:h.bool,shouldHideAllButtons:h.bool,showDoingNUX:h.bool,taggersConfig:h.object,triggeredFrom:h.oneOf(Object.values(c("ReactComposerLoggingName"))),useCheckinBranding:h.bool,userId:h.string.isRequired},getDefaultProps:function j(){return{onCancel:c("emptyFunction"),onPost:c("emptyFunction"),sharerType:c("SharerType").ALL_MODES,shouldAlwaysHideAllTaggers:false,shouldHideAllButtons:false,status:{type:c("ShareDialogStatusTypes").COMPOSING}}},componentWillMount:function j(){if(this.props.prefillConfig)c("ReactComposerPrefillUtils").prefill(this.props.contextConfig.composerID,this.props.prefillConfig)},_onCancel:function j(k){var l=this.props.onCancel;l&&l(k)},_onPost:function j(k){var l=this.props.onPost;l&&l(k)},render:function j(){return c("React").createElement(c("ReactComposer.react"),{hideBorders:true,loggingConfig:this.props.loggingConfig,activateOnInit:true,activateOnInitEntryPoint:this.props.triggeredFrom},c("React").createElement(c("ReactComposerBody.react"),null,c("React").createElement(c("ReactShareDialogComposerStatusEagerAttachment.react"),babelHelpers["extends"]({},this.props,{activeAudience:this.props.activeAudience,attachment:this.props.attachment,dataSources:this.props.dataSources,onCancel:this._onCancel,onPost:this._onPost,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,publicityWarning:this.props.publicityWarning,sharerType:this.props.sharerType,showDoingNUX:this.props.showDoingNUX,taggersConfig:this.props.taggersConfig,useCheckinBranding:this.props.useCheckinBranding}))))}});f.exports=i}),null);
__d("ShareDialogStaticTitle.react",["cx","fbt","React","XUICloseButton.react","XUIDialogTitle.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},this.props.title,this.props.children,c("React").createElement(c("XUICloseButton.react"),{className:"_51-t",label:i._("Close"),onClick:this.props.onClose}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={onClose:l.func,title:l.string};m.defaultProps={onClose:c("emptyFunction")};f.exports=m}),null);
__d("ShareDialogTitle.react",["cx","fbt","ShareDialogAudienceSelector.react","ShareDialogAudienceText.react","ShareDialogAudienceTypes","ShareDialogDataSources","ShareDialogStatusTypes","SharerType","React","LeftRight.react","XUICloseButton.react","XUIDialogTitle.react","emptyFunction","WorkModeConfig"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("ShareDialogDataSources").TYPES,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){"use strict";__p&&__p();var o=this.props.dataSources,p=this.props.activeAudience,q=[];switch(this.props.sharerType){case c("SharerType").EVENT_ONLY:q.push(c("ShareDialogAudienceTypes").EVENT);break;case c("SharerType").MESSAGE_ONLY:q.push(c("ShareDialogAudienceTypes").MESSAGE);break;case c("SharerType").FRIEND_TIMELINE_ONLY:q.push(c("ShareDialogAudienceTypes").PERSON);break;case c("SharerType").PAGE_ONLY:q.push(c("ShareDialogAudienceTypes").PAGE);break;case c("SharerType").OWN_ONLY:case c("SharerType").PAGE_VIEWER:q.push(c("ShareDialogAudienceTypes").OWN);break;default:if(!c("WorkModeConfig").is_in_solo_community)q.push(c("ShareDialogAudienceTypes").OWN);if(o.getSource(l.PERSON_WALL))q.push(c("ShareDialogAudienceTypes").PERSON);if(o.getSource(l.GROUP))q.push(c("ShareDialogAudienceTypes").GROUP);if(o.getSource(l.EVENT))q.push(c("ShareDialogAudienceTypes").EVENT);if(o.getSource(l.PAGE))q.push(c("ShareDialogAudienceTypes").PAGE);if(o.getSource(l.FUNDRAISER))q.push(c("ShareDialogAudienceTypes").FUNDRAISER);if(!c("WorkModeConfig").is_in_solo_community&&o.getSource(l.MESSAGE))q.push(c("ShareDialogAudienceTypes").MESSAGE)}var r;if(this.props.status.type===c("ShareDialogStatusTypes").COMPOSING)r=c("React").createElement("div",{className:"_1jlx"},c("React").createElement(c("ShareDialogAudienceSelector.react"),{allowedAudiences:q,activeAudience:p,onAudienceSelect:this.props.onAudienceSelect,shareType:this.props.shareType}));else if(this.props.status.type===c("ShareDialogStatusTypes").POSTING)r=c("React").createElement(c("ShareDialogAudienceText.react"),{className:"_4zt0",audience:p});else if(this.props.status.type===c("ShareDialogStatusTypes").ERROR)r=c("React").createElement("span",{className:"_4zt0"},this.props.status.title||i._("We're Sorry"));else if(this.props.status.type===c("ShareDialogStatusTypes").SUCCESS)r=this.props.status.title?c("React").createElement("span",{className:"_4zt0"},this.props.status.title):null;if(!r)return c("React").createElement("noscript",null);return c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false,className:"_5t22"},r,this.props.children,c("React").createElement(c("XUICloseButton.react"),{className:"_51-t _3chm",label:i._("Close"),onClick:this.props.onClose}))};function n(){"use strict";j.apply(this,arguments)}n.propTypes={activeAudience:function o(p){if(!c("ShareDialogAudienceTypes").isValid(p.activeAudience))return new Error("The active audience is invalid.")},status:m.shape({type:m.string.isRequired,title:m.oneOfType([m.string,m.object]),message:m.oneOfType([m.string,m.object])}).isRequired,dataSources:m.instanceOf(c("ShareDialogDataSources")),onAudienceSelect:m.func,onClose:m.func};n.defaultProps={onAudienceSelect:c("emptyFunction"),onClose:c("emptyFunction"),status:{type:c("ShareDialogStatusTypes").COMPOSING}};f.exports=n}),null);
__d("ReactShareDialog.react",["cx","fbt","ReactComposerContextTypes","ShareDialogAudience.react","ReactShareDialogComposer.react","ShareDialogDataSources","ShareDialogStaticTitle.react","ShareDialogStatusTypes","ShareDialogTitle.react","SharerType","AccessibleLayer","CurrentUser","DialogExpansionAtWidth","LayerFadeOnHide","LayerHideOnEscape","MercuryConfig","React","TooltipLink.react","QE2Logger","XUIDialog.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","emptyFunction","getOwnObjectValues"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k="react_share_dialog_content",l=c("React").createClass({displayName:"ReactShareDialog",contextTypes:c("ReactComposerContextTypes"),propTypes:{appId:j.string,attachment:j.object,causalElement:j.instanceOf(HTMLElement),customModules:j.shape({groups:j.arrayOf(j.func)}),dataSources:j.instanceOf(c("ShareDialogDataSources")),enableGroupVoiceSwitcher:j.bool,defaultGroupTargetID:j.string,defaultFriendTargetID:j.string,defaultFriendTargetName:j.string,defaultFundraiserTargetID:j.string,hideShareDialog:j.func,isThrowbackPost:j.bool,sentEntryID:j.string,lockPersonTargets:j.bool,loggingConfig:j.object,messageTags:j.array,messageTargets:j.array,onCancel:j.func.isRequired,onChangeAudienceTargets:j.func.isRequired,onClearAudienceTargets:j.func.isRequired,onPost:j.func.isRequired,postId:j.string.isRequired,privacySelector:j.any.isRequired,publicityWarning:j.object,sharerType:j.oneOf(c("getOwnObjectValues")(c("SharerType"))),shareType:j.string,showDoingNUX:j.bool,shown:j.bool,staticTitle:j.string,status:j.shape({message:j.oneOfType([j.string,j.object]),title:j.oneOfType([j.string,j.object]),type:j.string.isRequired}).isRequired,taggersConfig:j.object.isRequired,triggeredFrom:c("ReactShareDialogComposer.react").propTypes.triggeredFrom,userId:j.string.isRequired},getDefaultProps:function m(){return{onCancel:c("emptyFunction"),onPost:c("emptyFunction"),onChangeAudienceTargets:c("emptyFunction"),onClearAudienceTargets:c("emptyFunction"),sharerType:c("SharerType").ALL_MODES,status:{type:c("ShareDialogStatusTypes").COMPOSING}}},_getMessage:function m(){__p&&__p();var n=null;if(this.props.status.type==="error")n=this.props.status.message||i._("This post could not be shared at this time. Please try again later.");else if(this.props.status.type==="success")n=this.props.status.message||i._("Your share was posted.");if(n){var o=typeof n!=="string"&&n.__html?c("React").createElement("span",{dangerouslySetInnerHTML:n}):n;return c("React").createElement(c("XUIDialogBody.react"),null,o)}return null},_getOverlay:function m(){var n=c("React").createElement("noscript",null);if(this.props.status.type==="posting")n=c("React").createElement("div",{className:"_51jk"},c("React").createElement(c("XUISpinner.react"),{size:"large",className:"_51jl"}));return n},_getFooter:function m(){if(this.props.status.type!=="error"||this.props.renderInline)return c("React").createElement("noscript",null);else return c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCloseButton.react"),{use:"confirm"}))},_getTitle:function m(){if(!this.props.status.title||this.props.renderInline)return c("React").createElement("noscript",null);else{var n=this.props.status.title,o=typeof n!=="string"&&n.__html?c("React").createElement("span",{dangerouslySetInnerHTML:n}):n;return c("React").createElement(c("XUIDialogTitle.react"),null,o)}},render:function m(){var n=c("CurrentUser").isEmployee()?c("React").createElement(c("TooltipLink.react"),{className:"_2jxp uiHelpLink",href:"/groups/761337780581506/",tooltip:"Provide feedback on the React Share Composer (fb-only).",target:"_blank"}):null,o=this.props.staticTitle?c("React").createElement(c("ShareDialogStaticTitle.react"),{onClose:this.props.onCancel,title:this.props.staticTitle}):c("React").createElement(c("ShareDialogTitle.react"),{key:"title",activeAudience:this.props.activeAudience,dataSources:this.props.dataSources,onAudienceSelect:this.props.onTargetSelect,onClose:this.props.onCancel,renderInline:this.props.renderInline,shareType:this.props.shareType,sharerType:this.props.sharerType,status:this.props.status},n),p=c("React").createElement(c("ShareDialogAudience.react"),{activeAudience:this.props.activeAudience,customModules:this.props.customModules,dataSources:this.props.dataSources,defaultPageTargetID:this.props.defaultPageTargetID,defaultGroupTargetID:this.props.defaultGroupTargetID,defaultFundraiserTargetID:this.props.defaultFundraiserTargetID,preselectedID:this.props.defaultFriendTargetID,preselectedTitle:this.props.defaultFriendTargetName,key:"audience",messageTargets:this.props.messageTargets,onChange:this.props.onChangeAudienceTargets,onClear:this.props.onClearAudienceTargets,onPost:this.props.onPost,hideShareDialog:this.props.hideShareDialog,userId:this.props.userId,enableGroupVoiceSwitcher:this.props.enableGroupVoiceSwitcher,lockMessageTargets:this.props.lockMessageTargets,lockPersonTargets:this.props.lockPersonTargets,sentEntryID:this.props.sentEntryID}),q=c("React").createElement(c("ReactShareDialogComposer.react"),babelHelpers["extends"]({key:"composer"},this.props));c("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");var r=c("MercuryConfig").MNNSS?[o,q,p]:[o,p,q],s=this._getMessage()||r;return c("React").createElement(c("XUIDialog.react"),{behaviors:{AccessibleLayer:c("AccessibleLayer"),DialogExpansion:c("DialogExpansionAtWidth"),LayerFadeOnHide:c("LayerFadeOnHide"),LayerHideOnEscape:c("LayerHideOnEscape")},causalElementRef:function(){return this.props.causalElement}.bind(this),className:"_51jd",layerHideOnBlur:false,modal:true,shown:this.props.shown,width:496},this._getTitle(),c("React").createElement("div",{ref:"dialog","data-testid":k},s),this._getOverlay(),this._getFooter())}});f.exports=l}),null);
__d("ReactShareDialogContainer.react",["InstantGamesSharesTargetPlatform","InstantGamesSharesType","InstantGamesSharesTypedLogger","InstantGamesSharesEvent","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerAudienceStore","ReactComposerShareNowActions","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTopicFeedsTaggerStore","ComposerXSessionIDs","FBIDCheck","MercuryConfig","MercuryIDs","MercuryThreads","ReactShareDialogComposerActions","ReactShareDialogComposerStore","ShareDialogAudienceTypes","ReactShareDialog.react","SharerType","gkx","ReactComponentWithPureRenderMixin","React"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("MercuryThreads").get(),i=c("React").createClass({displayName:"ReactShareDialogContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactShareDialogComposerStore"))],statics:{beforeCalculateInitialState:function j(k,l){__p&&__p();var m=l.defaultAudience?l.defaultAudience:c("ShareDialogAudienceTypes").OWN;if(l.sharerType===c("SharerType").MESSAGE_ONLY)m=c("ShareDialogAudienceTypes").MESSAGE;else if(l.sharerType===c("SharerType").PAGE_ONLY)m=c("ShareDialogAudienceTypes").PAGE;else if(l.sharerType===c("SharerType").FRIEND_TIMELINE_ONLY)m=c("ShareDialogAudienceTypes").PERSON;c("ReactShareDialogComposerActions").setTarget(k,m);var n=l.defaultFriendTargetID?[l.defaultFriendTargetID]:null;c("ReactShareDialogComposerActions").setTargetInfo(k,{userId:l.userId,audienceTargets:n})},calculateState:function j(k,l){var m=c("ReactShareDialogComposerStore").getTargetInfo(k),n=m.audienceTargets,o=m.userId;return{activeAudience:c("ReactShareDialogComposerStore").getTarget(k),audienceTargets:n,userId:o}}},getInitialState:function j(){return{shown:true}},_hideShareDialog:function j(k){this.setState({shown:!k})},componentWillMount:function j(){c("ComposerXSessionIDs").resetSessionID(this.props.contextConfig.composerID)},componentWillReceiveProps:function j(k){if(k.status.type==="success"&&this.state.shown)setTimeout(function(){return this.setState({shown:false})}.bind(this),2500)},render:function j(){return c("React").createElement(c("ReactShareDialog.react"),babelHelpers["extends"]({},this.props,this.state,{onCancel:this._onCancel,onChangeAudienceTargets:this._onChangeAudienceTargets,onClearAudienceTargets:this._onClearAudienceTargets,onPost:this._onPost,onTargetSelect:this._onTargetSelect,hideShareDialog:this._hideShareDialog}))},_getStatefulResponse:function j(){__p&&__p();var k=this.props.contextConfig.composerID,l=c("ReactComposerTaggerStore").getTaggersData(k),m=c("ReactComposerAudienceStore").getAudience(k),n=c("ReactComposerStatusStore").getMessage(k),o=c("ReactShareDialogComposerStore").getTarget(k),p=c("ReactShareDialogComposerStore").getTargetInfo(k),q=c("ReactShareDialogComposerStore").getTargetedPrivacyData(k),r=p.audienceTargets?p.audienceTargets:[],s=0;if(r.length===1){var t=c("FBIDCheck").isUser_deprecated(r[0])?c("MercuryIDs").getThreadIDFromUserID(r[0]):c("MercuryIDs").getThreadIDFromThreadFBID(r[0]),u=h.getThreadMetaNow(t);s=u?u.ephemeral_ttl_mode:0}var v=l[c("ReactComposerTaggerType").PEOPLE],w=l[c("ReactComposerTaggerType").LOCATION],x=l[c("ReactComposerTaggerType").ACTIVITY],y=v.map(function(H){return H.getUniqueID()}),z=null,A=null;if(x.object){var B=x.object.getUniqueID(),C=x.object.getTitle();if(!B||B===C)A=C;else z=B}var D=null;if(!c("ReactComposerTopicFeedsTaggerStore").getIsDarkLaunch(k))D=c("ReactComposerTopicFeedsTaggerStore").getTaggedTopics(k).toArray();var E=c("ReactShareDialogComposerStore").getShareDialogType(k),F=c("ReactShareDialogComposerStore").getShareToGroupsAsPage(k),G=o=="message"&&c("MercuryConfig").MNNSS;return{actorId:p.userId,appId:this.props.appId,audienceTargets:r,audienceType:o,composerSessionID:c("ComposerXSessionIDs").getSessionID(k),ephemeralTTLMode:s,ft:this.props.ft,internalExtra:this.props.internalExtra,internalPreviewImageID:this.props.internalPreviewImageID,isForcedReshareOfPost:E,isNewMessageForward:G,message:n,messageTags:this.props.messageTags,ownerId:this.props.ownerId,postId:this.props.postId,privacy:m,sharedAdId:this.props.sharedAdId,shareToGroupAsPage:F,shareType:this.props.shareType,source:"osbach",taggedActionIconId:x.actionIconID,taggedActionId:x.action?x.action.getUniqueID():null,taggedFeedTopics:D,taggedObjectId:z,taggedObjectStr:A,taggedPeople:y,taggedPlace:w&&w.place?w.place.getUniqueID():null,targetedPrivacyData:q,url:this.props.url,civicProductSource:this.props.civicProductSource}},_onTargetSelect:function j(k){c("ReactShareDialogComposerActions").setTarget(this.context.composerID,k);c("ReactShareDialogComposerActions").setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId})},_onCancel:function j(){if(this.props.instantGamesSource&&this.props.appId&&c("gkx")("AT4NHwYtOug6JglPXtHWsaTGzLetLTdg9jvrSdOlxSzDyzxpZafhZlgxdT8ga7gtFpymFgOmIkGCTGjlnkbySnwt"))new(c("InstantGamesSharesTypedLogger"))().setEvent(c("InstantGamesSharesEvent").SHARE_CANCELED).setSource(this.props.instantGamesSource).setTargetPlatform(c("InstantGamesSharesTargetPlatform").FACEBOOK).setType(c("InstantGamesSharesType").GAME_SHARE).setAppID(this.props.appId).log();c("ReactComposerShareNowActions").cancelShare(this.context.composerID);this.setState({shown:false});this.props.onCancel&&this.props.onCancel(this._getStatefulResponse())},_onChangeAudienceTargets:function j(k){if(k.length===0)return;var l=k[0],m=null;if(this.state.activeAudience===c("ShareDialogAudienceTypes").PAGE)m={audienceTargets:[l.pageId],userId:l.actorId};else if(this.state.activeAudience===c("ShareDialogAudienceTypes").GROUP&&this.props.enableGroupVoiceSwitcher&&l&&l.groupId)m={audienceTargets:[l.groupId],userId:l.actorId};else m={audienceTargets:k,userId:this.props.userId};c("ReactShareDialogComposerActions").setTargetInfo(this.context.composerID,m)},_onClearAudienceTargets:function j(){c("ReactShareDialogComposerActions").setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId})},_onPost:function j(){if(this.props.instantGamesSource&&this.props.appId&&c("gkx")("AT4NHwYtOug6JglPXtHWsaTGzLetLTdg9jvrSdOlxSzDyzxpZafhZlgxdT8ga7gtFpymFgOmIkGCTGjlnkbySnwt")){var k=this.props.contextConfig.composerID,l=c("ReactComposerAudienceStore").getAudience(k);new(c("InstantGamesSharesTypedLogger"))().setEvent(c("InstantGamesSharesEvent").SHARE_SUCCESS).setSource(this.props.instantGamesSource).setTargetPlatform(c("InstantGamesSharesTargetPlatform").FACEBOOK).setType(c("InstantGamesSharesType").GAME_SHARE).setAppID(this.props.appId).setAudience(this.state.activeAudience).setPrivacy(l).log()}this.props.onPost(this._getStatefulResponse())}});f.exports=i}),null);
__d("ReactShareDialogRoot.react",["ReactComposerContextConfig","ReactComposerContextProviderMixin","ReactShareDialogContainer.react","ReactComponentWithPureRenderMixin","React"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactShareDialogRoot",mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerContextProviderMixin")],propTypes:{contextConfig:c("ReactComposerContextConfig").isRequired},render:function i(){return c("React").createElement(c("ReactShareDialogContainer.react"),this.props)}});f.exports=h}),null);
__d("ShareDialogOsbachController",["ActorURI","AsyncRequest","AsyncResponse","ReactComposerActions","ComposerEntryPointRef","ComposerPublisher","DOM","MercuryConfig","OnlyMeSharerSaveNux.react","React","ReactDOM","ShareDialogDataSources","ReactShareDialogRoot.react","ShareDialogStatusTypes","XShareDialogSubmitController","ReactComposerAudienceStore","destroyOnUnload","getActiveElement","uniqueID"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j,k,l,m,n;function o(u){if(!u)s({type:"posting"})}function p(u,v){if(!v)s({message:u.payload.message,shareType:u.payload.audience,showOnlyMeSharerSaveNux:u.payload.showOnlyMeSharerSaveNux,type:"success"});else{var w=u&&u.payload&&u.payload.entry_id;s({type:c("ShareDialogStatusTypes").COMPOSING,sentEntryID:w})}}function q(u){c("AsyncResponse").defaultErrorHandler(u);s({type:c("ShareDialogStatusTypes").COMPOSING})}function r(u){if(u.error)s({type:c("ShareDialogStatusTypes").COMPOSING})}function s(u){if(u.showOnlyMeSharerSaveNux&&u.shareType&&k&&l&&m&&!c("MercuryConfig").MNNSS)c("ReactDOM").render(c("React").createElement(c("OnlyMeSharerSaveNux.react"),{caretId:k,storyContainerId:l,collectionId:m,objectId:n,shareType:u.shareType}),i);else c("ReactDOM").render(c("React").createElement(c("ReactShareDialogRoot.react"),babelHelpers["extends"]({},h,{contextConfig:{actorID:h.userId,composerID:j,composerType:c("ComposerEntryPointRef").FEED_STORY,gks:h.gks,targetID:h.userId},shown:true,onPost:function v(w){t.onPost(w,o,p,q,r)},status:u,sentEntryID:u.sentEntryID})),i)}var t={getPropsFromAsyncResponse:function u(v){var w=v.sources,x=babelHelpers.objectWithoutProperties(v,["sources"]),y=w.person,z=w.personTag,A=w.personWall,B=w.group,event=w.event,C=w.page,D=w.fundraiser,E=w.mentions,F=w.place,G=w.action,H=w.object,I=new(c("ShareDialogDataSources"))().addSource(c("ShareDialogDataSources").TYPES.ACTION,G).addSource(c("ShareDialogDataSources").TYPES.EVENT,event).addSource(c("ShareDialogDataSources").TYPES.FUNDRAISER,D).addSource(c("ShareDialogDataSources").TYPES.GROUP,B).addSource(c("ShareDialogDataSources").TYPES.MENTIONS,E).addSource(c("ShareDialogDataSources").TYPES.MESSAGE,y).addSource(c("ShareDialogDataSources").TYPES.OBJECT,H).addSource(c("ShareDialogDataSources").TYPES.PAGE,C).addSource(c("ShareDialogDataSources").TYPES.PERSON,z).addSource(c("ShareDialogDataSources").TYPES.PERSON_WALL,A).addSource(c("ShareDialogDataSources").TYPES.PLACE,F);return babelHelpers["extends"]({dataSources:I},x)},onPost:function u(v,w,x,y,r){__p&&__p();var z=v.isNewMessageForward;w&&w(z);var A=function A(v){c("ReactComposerActions").postSucceeded(j);x(v,z)};if(c("ComposerPublisher").getShouldUseGraphQLForShareDialog(v)){c("ComposerPublisher").publishFromShareDialog(j,v,A,y,r);return}var B=c("XShareDialogSubmitController").getURIBuilder().setInt("app_id",v.appId).setInt("attribution",v.attributionId).setString("audience_type",v.audienceType).setIntVector("audience_targets",v.audienceTargets).setString("composer_session_id",v.composerSessionID).setInt("ephemeral_ttl_mode",v.ephemeralTTLMode).setHackType("ft",v.ft).setStringToStringMap("internalextra",v.internalExtra||h&&h.internalExtra).setInt("internal_preview_image_id",v.internalPreviewImageID).setBool("is_forced_reshare_of_post",v.isForcedReshareOfPost).setString("message",v.message).setStringVector("messaging_tags",v.messageTags).setInt("owner_id",v.ownerId).setInt("post_id",v.postId).setString("privacy",v.privacy).setBool("share_to_group_as_page",!!v.shareToGroupAsPage).setInt("share_type",v.shareType).setInt("shared_ad_id",v.sharedAdId).setString("source",v.source).setInt("tagged_action",v.taggedActionId).setInt("tagged_object",v.taggedObjectId).setString("tagged_object_str",v.taggedObjectStr).setInt("tagged_action_icon",v.taggedActionIconId).setIntVector("tagged_people",v.taggedPeople).setInt("tagged_place",v.taggedPlace).setStringVector("tagged_feed_topics",v.taggedFeedTopics).setHackType("targeted_privacy_data",v.targetedPrivacyData).setBool("is_throwback_post",h.isThrowbackPost).setString("url",v.url).setInt("album_id",c("ReactComposerAudienceStore").getCollectionID(j)).setString("civic_product_source",v.civicProductSource).setEnum("holiday_card_source",h.holidayCardSource).setInt("shared_from_post_id",h.sharedFromPostID).getURI();B=c("ActorURI").create(B,v.actorId);new(c("AsyncRequest"))().setURI(B).setMethod("POST").setReadOnly(true).setAllowCrossPageTransition(true).setHandler(A).setErrorHandler(y).setFinallyHandler(r).send()},setup:function u(v,w,x,y,z,A){__p&&__p();v.causalElement=c("getActiveElement")();h=t.getPropsFromAsyncResponse(v);i=w;j=c("uniqueID")();k=x;l=y;m=z;n=A;s({type:c("ShareDialogStatusTypes").COMPOSING});c("destroyOnUnload")(function(){c("ReactDOM").unmountComponentAtNode(i);c("DOM").remove(i)})}};f.exports=t}),null);